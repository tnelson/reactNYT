(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function xm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Od={exports:{}},Us={},Md={exports:{}},A={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fi=Symbol.for("react.element"),Pm=Symbol.for("react.portal"),Dm=Symbol.for("react.fragment"),Am=Symbol.for("react.strict_mode"),Om=Symbol.for("react.profiler"),Mm=Symbol.for("react.provider"),Lm=Symbol.for("react.context"),Fm=Symbol.for("react.forward_ref"),zm=Symbol.for("react.suspense"),Um=Symbol.for("react.memo"),Bm=Symbol.for("react.lazy"),Aa=Symbol.iterator;function Wm(t){return t===null||typeof t!="object"?null:(t=Aa&&t[Aa]||t["@@iterator"],typeof t=="function"?t:null)}var Ld={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fd=Object.assign,zd={};function or(t,e,n){this.props=t,this.context=e,this.refs=zd,this.updater=n||Ld}or.prototype.isReactComponent={};or.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};or.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ud(){}Ud.prototype=or.prototype;function cu(t,e,n){this.props=t,this.context=e,this.refs=zd,this.updater=n||Ld}var du=cu.prototype=new Ud;du.constructor=cu;Fd(du,or.prototype);du.isPureReactComponent=!0;var Oa=Array.isArray,Bd=Object.prototype.hasOwnProperty,fu={current:null},Wd={key:!0,ref:!0,__self:!0,__source:!0};function jd(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Bd.call(e,r)&&!Wd.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),a=0;a<l;a++)u[a]=arguments[a+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:fi,type:t,key:s,ref:o,props:i,_owner:fu.current}}function jm(t,e){return{$$typeof:fi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hu(t){return typeof t=="object"&&t!==null&&t.$$typeof===fi}function Hm(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ma=/\/+/g;function fo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Hm(""+t.key):e.toString(36)}function Vi(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case fi:case Pm:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+fo(o,0):r,Oa(i)?(n="",t!=null&&(n=t.replace(Ma,"$&/")+"/"),Vi(i,e,n,"",function(a){return a})):i!=null&&(hu(i)&&(i=jm(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ma,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Oa(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+fo(s,l);o+=Vi(s,e,n,u,i)}else if(u=Wm(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+fo(s,l++),o+=Vi(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ki(t,e,n){if(t==null)return t;var r=[],i=0;return Vi(t,r,"","",function(s){return e.call(n,s,i++)}),r}function $m(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Te={current:null},bi={transition:null},Vm={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:bi,ReactCurrentOwner:fu};A.Children={map:ki,forEach:function(t,e,n){ki(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ki(t,function(){e++}),e},toArray:function(t){return ki(t,function(e){return e})||[]},only:function(t){if(!hu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};A.Component=or;A.Fragment=Dm;A.Profiler=Om;A.PureComponent=cu;A.StrictMode=Am;A.Suspense=zm;A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vm;A.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Fd({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=fu.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Bd.call(e,u)&&!Wd.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var a=0;a<u;a++)l[a]=arguments[a+2];r.children=l}return{$$typeof:fi,type:t.type,key:i,ref:s,props:r,_owner:o}};A.createContext=function(t){return t={$$typeof:Lm,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Mm,_context:t},t.Consumer=t};A.createElement=jd;A.createFactory=function(t){var e=jd.bind(null,t);return e.type=t,e};A.createRef=function(){return{current:null}};A.forwardRef=function(t){return{$$typeof:Fm,render:t}};A.isValidElement=hu;A.lazy=function(t){return{$$typeof:Bm,_payload:{_status:-1,_result:t},_init:$m}};A.memo=function(t,e){return{$$typeof:Um,type:t,compare:e===void 0?null:e}};A.startTransition=function(t){var e=bi.transition;bi.transition={};try{t()}finally{bi.transition=e}};A.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};A.useCallback=function(t,e){return Te.current.useCallback(t,e)};A.useContext=function(t){return Te.current.useContext(t)};A.useDebugValue=function(){};A.useDeferredValue=function(t){return Te.current.useDeferredValue(t)};A.useEffect=function(t,e){return Te.current.useEffect(t,e)};A.useId=function(){return Te.current.useId()};A.useImperativeHandle=function(t,e,n){return Te.current.useImperativeHandle(t,e,n)};A.useInsertionEffect=function(t,e){return Te.current.useInsertionEffect(t,e)};A.useLayoutEffect=function(t,e){return Te.current.useLayoutEffect(t,e)};A.useMemo=function(t,e){return Te.current.useMemo(t,e)};A.useReducer=function(t,e,n){return Te.current.useReducer(t,e,n)};A.useRef=function(t){return Te.current.useRef(t)};A.useState=function(t){return Te.current.useState(t)};A.useSyncExternalStore=function(t,e,n){return Te.current.useSyncExternalStore(t,e,n)};A.useTransition=function(){return Te.current.useTransition()};A.version="18.2.0";Md.exports=A;var Ot=Md.exports;const bm=xm(Ot);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gm=Ot,Qm=Symbol.for("react.element"),Km=Symbol.for("react.fragment"),Ym=Object.prototype.hasOwnProperty,qm=Gm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xm={key:!0,ref:!0,__self:!0,__source:!0};function Hd(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Ym.call(e,r)&&!Xm.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Qm,type:t,key:s,ref:o,props:i,_owner:qm.current}}Us.Fragment=Km;Us.jsx=Hd;Us.jsxs=Hd;Od.exports=Us;var Q=Od.exports,qo={},$d={exports:{}},Ue={},Vd={exports:{}},bd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,R){var x=k.length;k.push(R);e:for(;0<x;){var ee=x-1>>>1,oe=k[ee];if(0<i(oe,R))k[ee]=R,k[x]=oe,x=ee;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var R=k[0],x=k.pop();if(x!==R){k[0]=x;e:for(var ee=0,oe=k.length,Ei=oe>>>1;ee<Ei;){var Xt=2*(ee+1)-1,co=k[Xt],Jt=Xt+1,Ci=k[Jt];if(0>i(co,x))Jt<oe&&0>i(Ci,co)?(k[ee]=Ci,k[Jt]=x,ee=Jt):(k[ee]=co,k[Xt]=x,ee=Xt);else if(Jt<oe&&0>i(Ci,x))k[ee]=Ci,k[Jt]=x,ee=Jt;else break e}}return R}function i(k,R){var x=k.sortIndex-R.sortIndex;return x!==0?x:k.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],a=[],d=1,c=null,f=3,g=!1,_=!1,w=!1,P=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(k){for(var R=n(a);R!==null;){if(R.callback===null)r(a);else if(R.startTime<=k)r(a),R.sortIndex=R.expirationTime,e(u,R);else break;R=n(a)}}function y(k){if(w=!1,m(k),!_)if(n(u)!==null)_=!0,uo(C);else{var R=n(a);R!==null&&ao(y,R.startTime-k)}}function C(k,R){_=!1,w&&(w=!1,p(N),N=-1),g=!0;var x=f;try{for(m(R),c=n(u);c!==null&&(!(c.expirationTime>R)||k&&!Ke());){var ee=c.callback;if(typeof ee=="function"){c.callback=null,f=c.priorityLevel;var oe=ee(c.expirationTime<=R);R=t.unstable_now(),typeof oe=="function"?c.callback=oe:c===n(u)&&r(u),m(R)}else r(u);c=n(u)}if(c!==null)var Ei=!0;else{var Xt=n(a);Xt!==null&&ao(y,Xt.startTime-R),Ei=!1}return Ei}finally{c=null,f=x,g=!1}}var T=!1,I=null,N=-1,Z=5,O=-1;function Ke(){return!(t.unstable_now()-O<Z)}function pr(){if(I!==null){var k=t.unstable_now();O=k;var R=!0;try{R=I(!0,k)}finally{R?mr():(T=!1,I=null)}}else T=!1}var mr;if(typeof h=="function")mr=function(){h(pr)};else if(typeof MessageChannel<"u"){var Da=new MessageChannel,Rm=Da.port2;Da.port1.onmessage=pr,mr=function(){Rm.postMessage(null)}}else mr=function(){P(pr,0)};function uo(k){I=k,T||(T=!0,mr())}function ao(k,R){N=P(function(){k(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,uo(C))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(k){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var x=f;f=R;try{return k()}finally{f=x}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,R){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var x=f;f=k;try{return R()}finally{f=x}},t.unstable_scheduleCallback=function(k,R,x){var ee=t.unstable_now();switch(typeof x=="object"&&x!==null?(x=x.delay,x=typeof x=="number"&&0<x?ee+x:ee):x=ee,k){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=x+oe,k={id:d++,callback:R,priorityLevel:k,startTime:x,expirationTime:oe,sortIndex:-1},x>ee?(k.sortIndex=x,e(a,k),n(u)===null&&k===n(a)&&(w?(p(N),N=-1):w=!0,ao(y,x-ee))):(k.sortIndex=oe,e(u,k),_||g||(_=!0,uo(C))),k},t.unstable_shouldYield=Ke,t.unstable_wrapCallback=function(k){var R=f;return function(){var x=f;f=R;try{return k.apply(this,arguments)}finally{f=x}}}})(bd);Vd.exports=bd;var Jm=Vd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gd=Ot,ze=Jm;function v(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qd=new Set,Vr={};function Sn(t,e){qn(t,e),qn(t+"Capture",e)}function qn(t,e){for(Vr[t]=e,t=0;t<e.length;t++)Qd.add(e[t])}var yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xo=Object.prototype.hasOwnProperty,Zm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,La={},Fa={};function eg(t){return Xo.call(Fa,t)?!0:Xo.call(La,t)?!1:Zm.test(t)?Fa[t]=!0:(La[t]=!0,!1)}function tg(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ng(t,e,n,r){if(e===null||typeof e>"u"||tg(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ie(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ge[t]=new Ie(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ge[e]=new Ie(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ge[t]=new Ie(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ge[t]=new Ie(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ge[t]=new Ie(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ge[t]=new Ie(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ge[t]=new Ie(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ge[t]=new Ie(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ge[t]=new Ie(t,5,!1,t.toLowerCase(),null,!1,!1)});var pu=/[\-:]([a-z])/g;function mu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(pu,mu);ge[e]=new Ie(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(pu,mu);ge[e]=new Ie(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(pu,mu);ge[e]=new Ie(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ge[t]=new Ie(t,1,!1,t.toLowerCase(),null,!1,!1)});ge.xlinkHref=new Ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ge[t]=new Ie(t,1,!1,t.toLowerCase(),null,!0,!0)});function gu(t,e,n,r){var i=ge.hasOwnProperty(e)?ge[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ng(e,n,i,r)&&(n=null),r||i===null?eg(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var kt=Gd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ti=Symbol.for("react.element"),Nn=Symbol.for("react.portal"),Rn=Symbol.for("react.fragment"),_u=Symbol.for("react.strict_mode"),Jo=Symbol.for("react.profiler"),Kd=Symbol.for("react.provider"),Yd=Symbol.for("react.context"),yu=Symbol.for("react.forward_ref"),Zo=Symbol.for("react.suspense"),el=Symbol.for("react.suspense_list"),vu=Symbol.for("react.memo"),Nt=Symbol.for("react.lazy"),qd=Symbol.for("react.offscreen"),za=Symbol.iterator;function gr(t){return t===null||typeof t!="object"?null:(t=za&&t[za]||t["@@iterator"],typeof t=="function"?t:null)}var X=Object.assign,ho;function Rr(t){if(ho===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ho=e&&e[1]||""}return`
`+ho+t}var po=!1;function mo(t,e){if(!t||po)return"";po=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(a){var r=a}Reflect.construct(t,[],e)}else{try{e.call()}catch(a){r=a}t.call(e.prototype)}else{try{throw Error()}catch(a){r=a}t()}}catch(a){if(a&&r&&typeof a.stack=="string"){for(var i=a.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{po=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Rr(t):""}function rg(t){switch(t.tag){case 5:return Rr(t.type);case 16:return Rr("Lazy");case 13:return Rr("Suspense");case 19:return Rr("SuspenseList");case 0:case 2:case 15:return t=mo(t.type,!1),t;case 11:return t=mo(t.type.render,!1),t;case 1:return t=mo(t.type,!0),t;default:return""}}function tl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rn:return"Fragment";case Nn:return"Portal";case Jo:return"Profiler";case _u:return"StrictMode";case Zo:return"Suspense";case el:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Yd:return(t.displayName||"Context")+".Consumer";case Kd:return(t._context.displayName||"Context")+".Provider";case yu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vu:return e=t.displayName||null,e!==null?e:tl(t.type)||"Memo";case Nt:e=t._payload,t=t._init;try{return tl(t(e))}catch{}}return null}function ig(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tl(e);case 8:return e===_u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function bt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sg(t){var e=Xd(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ii(t){t._valueTracker||(t._valueTracker=sg(t))}function Jd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Xd(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ns(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function nl(t,e){var n=e.checked;return X({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ua(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=bt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Zd(t,e){e=e.checked,e!=null&&gu(t,"checked",e,!1)}function rl(t,e){Zd(t,e);var n=bt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?il(t,e.type,n):e.hasOwnProperty("defaultValue")&&il(t,e.type,bt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ba(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function il(t,e,n){(e!=="number"||ns(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xr=Array.isArray;function Wn(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+bt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function sl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(v(91));return X({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wa(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(v(92));if(xr(n)){if(1<n.length)throw Error(v(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:bt(n)}}function ef(t,e){var n=bt(e.value),r=bt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ja(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function tf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ol(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?tf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ni,nf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ni=Ni||document.createElement("div"),Ni.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ni.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function br(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},og=["Webkit","ms","Moz","O"];Object.keys(Ar).forEach(function(t){og.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ar[e]=Ar[t]})});function rf(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ar.hasOwnProperty(t)&&Ar[t]?(""+e).trim():e+"px"}function sf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=rf(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var lg=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ll(t,e){if(e){if(lg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(v(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(v(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(v(61))}if(e.style!=null&&typeof e.style!="object")throw Error(v(62))}}function ul(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var al=null;function wu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cl=null,jn=null,Hn=null;function Ha(t){if(t=mi(t)){if(typeof cl!="function")throw Error(v(280));var e=t.stateNode;e&&(e=$s(e),cl(t.stateNode,t.type,e))}}function of(t){jn?Hn?Hn.push(t):Hn=[t]:jn=t}function lf(){if(jn){var t=jn,e=Hn;if(Hn=jn=null,Ha(t),e)for(t=0;t<e.length;t++)Ha(e[t])}}function uf(t,e){return t(e)}function af(){}var go=!1;function cf(t,e,n){if(go)return t(e,n);go=!0;try{return uf(t,e,n)}finally{go=!1,(jn!==null||Hn!==null)&&(af(),lf())}}function Gr(t,e){var n=t.stateNode;if(n===null)return null;var r=$s(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(v(231,e,typeof n));return n}var dl=!1;if(yt)try{var _r={};Object.defineProperty(_r,"passive",{get:function(){dl=!0}}),window.addEventListener("test",_r,_r),window.removeEventListener("test",_r,_r)}catch{dl=!1}function ug(t,e,n,r,i,s,o,l,u){var a=Array.prototype.slice.call(arguments,3);try{e.apply(n,a)}catch(d){this.onError(d)}}var Or=!1,rs=null,is=!1,fl=null,ag={onError:function(t){Or=!0,rs=t}};function cg(t,e,n,r,i,s,o,l,u){Or=!1,rs=null,ug.apply(ag,arguments)}function dg(t,e,n,r,i,s,o,l,u){if(cg.apply(this,arguments),Or){if(Or){var a=rs;Or=!1,rs=null}else throw Error(v(198));is||(is=!0,fl=a)}}function En(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function df(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $a(t){if(En(t)!==t)throw Error(v(188))}function fg(t){var e=t.alternate;if(!e){if(e=En(t),e===null)throw Error(v(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return $a(i),t;if(s===r)return $a(i),e;s=s.sibling}throw Error(v(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(v(189))}}if(n.alternate!==r)throw Error(v(190))}if(n.tag!==3)throw Error(v(188));return n.stateNode.current===n?t:e}function ff(t){return t=fg(t),t!==null?hf(t):null}function hf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hf(t);if(e!==null)return e;t=t.sibling}return null}var pf=ze.unstable_scheduleCallback,Va=ze.unstable_cancelCallback,hg=ze.unstable_shouldYield,pg=ze.unstable_requestPaint,te=ze.unstable_now,mg=ze.unstable_getCurrentPriorityLevel,Su=ze.unstable_ImmediatePriority,mf=ze.unstable_UserBlockingPriority,ss=ze.unstable_NormalPriority,gg=ze.unstable_LowPriority,gf=ze.unstable_IdlePriority,Bs=null,at=null;function _g(t){if(at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(Bs,t,void 0,(t.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:wg,yg=Math.log,vg=Math.LN2;function wg(t){return t>>>=0,t===0?32:31-(yg(t)/vg|0)|0}var Ri=64,xi=4194304;function Pr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function os(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Pr(l):(s&=o,s!==0&&(r=Pr(s)))}else o=n&~i,o!==0?r=Pr(o):s!==0&&(r=Pr(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tt(e),i=1<<n,r|=t[n],e&=~i;return r}function Sg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eg(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-tt(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=Sg(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function hl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _f(){var t=Ri;return Ri<<=1,!(Ri&4194240)&&(Ri=64),t}function _o(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hi(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tt(e),t[e]=n}function Cg(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-tt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Eu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var U=0;function yf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var vf,Cu,wf,Sf,Ef,pl=!1,Pi=[],Mt=null,Lt=null,Ft=null,Qr=new Map,Kr=new Map,xt=[],kg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ba(t,e){switch(t){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":Qr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kr.delete(e.pointerId)}}function yr(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=mi(e),e!==null&&Cu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Tg(t,e,n,r,i){switch(e){case"focusin":return Mt=yr(Mt,t,e,n,r,i),!0;case"dragenter":return Lt=yr(Lt,t,e,n,r,i),!0;case"mouseover":return Ft=yr(Ft,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Qr.set(s,yr(Qr.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Kr.set(s,yr(Kr.get(s)||null,t,e,n,r,i)),!0}return!1}function Cf(t){var e=rn(t.target);if(e!==null){var n=En(e);if(n!==null){if(e=n.tag,e===13){if(e=df(n),e!==null){t.blockedOn=e,Ef(t.priority,function(){wf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gi(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ml(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);al=r,n.target.dispatchEvent(r),al=null}else return e=mi(n),e!==null&&Cu(e),t.blockedOn=n,!1;e.shift()}return!0}function Ga(t,e,n){Gi(t)&&n.delete(e)}function Ig(){pl=!1,Mt!==null&&Gi(Mt)&&(Mt=null),Lt!==null&&Gi(Lt)&&(Lt=null),Ft!==null&&Gi(Ft)&&(Ft=null),Qr.forEach(Ga),Kr.forEach(Ga)}function vr(t,e){t.blockedOn===e&&(t.blockedOn=null,pl||(pl=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,Ig)))}function Yr(t){function e(i){return vr(i,t)}if(0<Pi.length){vr(Pi[0],t);for(var n=1;n<Pi.length;n++){var r=Pi[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mt!==null&&vr(Mt,t),Lt!==null&&vr(Lt,t),Ft!==null&&vr(Ft,t),Qr.forEach(e),Kr.forEach(e),n=0;n<xt.length;n++)r=xt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<xt.length&&(n=xt[0],n.blockedOn===null);)Cf(n),n.blockedOn===null&&xt.shift()}var $n=kt.ReactCurrentBatchConfig,ls=!0;function Ng(t,e,n,r){var i=U,s=$n.transition;$n.transition=null;try{U=1,ku(t,e,n,r)}finally{U=i,$n.transition=s}}function Rg(t,e,n,r){var i=U,s=$n.transition;$n.transition=null;try{U=4,ku(t,e,n,r)}finally{U=i,$n.transition=s}}function ku(t,e,n,r){if(ls){var i=ml(t,e,n,r);if(i===null)No(t,e,r,us,n),ba(t,r);else if(Tg(i,t,e,n,r))r.stopPropagation();else if(ba(t,r),e&4&&-1<kg.indexOf(t)){for(;i!==null;){var s=mi(i);if(s!==null&&vf(s),s=ml(t,e,n,r),s===null&&No(t,e,r,us,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else No(t,e,r,null,n)}}var us=null;function ml(t,e,n,r){if(us=null,t=wu(r),t=rn(t),t!==null)if(e=En(t),e===null)t=null;else if(n=e.tag,n===13){if(t=df(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return us=t,null}function kf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mg()){case Su:return 1;case mf:return 4;case ss:case gg:return 16;case gf:return 536870912;default:return 16}default:return 16}}var Dt=null,Tu=null,Qi=null;function Tf(){if(Qi)return Qi;var t,e=Tu,n=e.length,r,i="value"in Dt?Dt.value:Dt.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Qi=i.slice(t,1<r?1-r:void 0)}function Ki(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Di(){return!0}function Qa(){return!1}function Be(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Di:Qa,this.isPropagationStopped=Qa,this}return X(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),e}var lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Iu=Be(lr),pi=X({},lr,{view:0,detail:0}),xg=Be(pi),yo,vo,wr,Ws=X({},pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wr&&(wr&&t.type==="mousemove"?(yo=t.screenX-wr.screenX,vo=t.screenY-wr.screenY):vo=yo=0,wr=t),yo)},movementY:function(t){return"movementY"in t?t.movementY:vo}}),Ka=Be(Ws),Pg=X({},Ws,{dataTransfer:0}),Dg=Be(Pg),Ag=X({},pi,{relatedTarget:0}),wo=Be(Ag),Og=X({},lr,{animationName:0,elapsedTime:0,pseudoElement:0}),Mg=Be(Og),Lg=X({},lr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fg=Be(Lg),zg=X({},lr,{data:0}),Ya=Be(zg),Ug={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jg(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Wg[t])?!!e[t]:!1}function Nu(){return jg}var Hg=X({},pi,{key:function(t){if(t.key){var e=Ug[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ki(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nu,charCode:function(t){return t.type==="keypress"?Ki(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ki(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$g=Be(Hg),Vg=X({},Ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qa=Be(Vg),bg=X({},pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nu}),Gg=Be(bg),Qg=X({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kg=Be(Qg),Yg=X({},Ws,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qg=Be(Yg),Xg=[9,13,27,32],Ru=yt&&"CompositionEvent"in window,Mr=null;yt&&"documentMode"in document&&(Mr=document.documentMode);var Jg=yt&&"TextEvent"in window&&!Mr,If=yt&&(!Ru||Mr&&8<Mr&&11>=Mr),Xa=String.fromCharCode(32),Ja=!1;function Nf(t,e){switch(t){case"keyup":return Xg.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xn=!1;function Zg(t,e){switch(t){case"compositionend":return Rf(e);case"keypress":return e.which!==32?null:(Ja=!0,Xa);case"textInput":return t=e.data,t===Xa&&Ja?null:t;default:return null}}function e_(t,e){if(xn)return t==="compositionend"||!Ru&&Nf(t,e)?(t=Tf(),Qi=Tu=Dt=null,xn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return If&&e.locale!=="ko"?null:e.data;default:return null}}var t_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Za(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!t_[t.type]:e==="textarea"}function xf(t,e,n,r){of(r),e=as(e,"onChange"),0<e.length&&(n=new Iu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Lr=null,qr=null;function n_(t){Wf(t,0)}function js(t){var e=An(t);if(Jd(e))return t}function r_(t,e){if(t==="change")return e}var Pf=!1;if(yt){var So;if(yt){var Eo="oninput"in document;if(!Eo){var ec=document.createElement("div");ec.setAttribute("oninput","return;"),Eo=typeof ec.oninput=="function"}So=Eo}else So=!1;Pf=So&&(!document.documentMode||9<document.documentMode)}function tc(){Lr&&(Lr.detachEvent("onpropertychange",Df),qr=Lr=null)}function Df(t){if(t.propertyName==="value"&&js(qr)){var e=[];xf(e,qr,t,wu(t)),cf(n_,e)}}function i_(t,e,n){t==="focusin"?(tc(),Lr=e,qr=n,Lr.attachEvent("onpropertychange",Df)):t==="focusout"&&tc()}function s_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return js(qr)}function o_(t,e){if(t==="click")return js(e)}function l_(t,e){if(t==="input"||t==="change")return js(e)}function u_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var it=typeof Object.is=="function"?Object.is:u_;function Xr(t,e){if(it(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Xo.call(e,i)||!it(t[i],e[i]))return!1}return!0}function nc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rc(t,e){var n=nc(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nc(n)}}function Af(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Af(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Of(){for(var t=window,e=ns();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ns(t.document)}return e}function xu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function a_(t){var e=Of(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Af(n.ownerDocument.documentElement,n)){if(r!==null&&xu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=rc(n,s);var o=rc(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var c_=yt&&"documentMode"in document&&11>=document.documentMode,Pn=null,gl=null,Fr=null,_l=!1;function ic(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_l||Pn==null||Pn!==ns(r)||(r=Pn,"selectionStart"in r&&xu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fr&&Xr(Fr,r)||(Fr=r,r=as(gl,"onSelect"),0<r.length&&(e=new Iu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Pn)))}function Ai(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Dn={animationend:Ai("Animation","AnimationEnd"),animationiteration:Ai("Animation","AnimationIteration"),animationstart:Ai("Animation","AnimationStart"),transitionend:Ai("Transition","TransitionEnd")},Co={},Mf={};yt&&(Mf=document.createElement("div").style,"AnimationEvent"in window||(delete Dn.animationend.animation,delete Dn.animationiteration.animation,delete Dn.animationstart.animation),"TransitionEvent"in window||delete Dn.transitionend.transition);function Hs(t){if(Co[t])return Co[t];if(!Dn[t])return t;var e=Dn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Mf)return Co[t]=e[n];return t}var Lf=Hs("animationend"),Ff=Hs("animationiteration"),zf=Hs("animationstart"),Uf=Hs("transitionend"),Bf=new Map,sc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kt(t,e){Bf.set(t,e),Sn(e,[t])}for(var ko=0;ko<sc.length;ko++){var To=sc[ko],d_=To.toLowerCase(),f_=To[0].toUpperCase()+To.slice(1);Kt(d_,"on"+f_)}Kt(Lf,"onAnimationEnd");Kt(Ff,"onAnimationIteration");Kt(zf,"onAnimationStart");Kt("dblclick","onDoubleClick");Kt("focusin","onFocus");Kt("focusout","onBlur");Kt(Uf,"onTransitionEnd");qn("onMouseEnter",["mouseout","mouseover"]);qn("onMouseLeave",["mouseout","mouseover"]);qn("onPointerEnter",["pointerout","pointerover"]);qn("onPointerLeave",["pointerout","pointerover"]);Sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function oc(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,dg(r,e,void 0,t),t.currentTarget=null}function Wf(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,a=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;oc(i,l,a),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,a=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;oc(i,l,a),s=u}}}if(is)throw t=fl,is=!1,fl=null,t}function H(t,e){var n=e[El];n===void 0&&(n=e[El]=new Set);var r=t+"__bubble";n.has(r)||(jf(e,t,2,!1),n.add(r))}function Io(t,e,n){var r=0;e&&(r|=4),jf(n,t,r,e)}var Oi="_reactListening"+Math.random().toString(36).slice(2);function Jr(t){if(!t[Oi]){t[Oi]=!0,Qd.forEach(function(n){n!=="selectionchange"&&(h_.has(n)||Io(n,!1,t),Io(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Oi]||(e[Oi]=!0,Io("selectionchange",!1,e))}}function jf(t,e,n,r){switch(kf(e)){case 1:var i=Ng;break;case 4:i=Rg;break;default:i=ku}n=i.bind(null,e,n,t),i=void 0,!dl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function No(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=rn(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}cf(function(){var a=s,d=wu(n),c=[];e:{var f=Bf.get(t);if(f!==void 0){var g=Iu,_=t;switch(t){case"keypress":if(Ki(n)===0)break e;case"keydown":case"keyup":g=$g;break;case"focusin":_="focus",g=wo;break;case"focusout":_="blur",g=wo;break;case"beforeblur":case"afterblur":g=wo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Ka;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Dg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Gg;break;case Lf:case Ff:case zf:g=Mg;break;case Uf:g=Kg;break;case"scroll":g=xg;break;case"wheel":g=qg;break;case"copy":case"cut":case"paste":g=Fg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=qa}var w=(e&4)!==0,P=!w&&t==="scroll",p=w?f!==null?f+"Capture":null:f;w=[];for(var h=a,m;h!==null;){m=h;var y=m.stateNode;if(m.tag===5&&y!==null&&(m=y,p!==null&&(y=Gr(h,p),y!=null&&w.push(Zr(h,y,m)))),P)break;h=h.return}0<w.length&&(f=new g(f,_,null,n,d),c.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==al&&(_=n.relatedTarget||n.fromElement)&&(rn(_)||_[vt]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=a,_=_?rn(_):null,_!==null&&(P=En(_),_!==P||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=a),g!==_)){if(w=Ka,y="onMouseLeave",p="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(w=qa,y="onPointerLeave",p="onPointerEnter",h="pointer"),P=g==null?f:An(g),m=_==null?f:An(_),f=new w(y,h+"leave",g,n,d),f.target=P,f.relatedTarget=m,y=null,rn(d)===a&&(w=new w(p,h+"enter",_,n,d),w.target=m,w.relatedTarget=P,y=w),P=y,g&&_)t:{for(w=g,p=_,h=0,m=w;m;m=Tn(m))h++;for(m=0,y=p;y;y=Tn(y))m++;for(;0<h-m;)w=Tn(w),h--;for(;0<m-h;)p=Tn(p),m--;for(;h--;){if(w===p||p!==null&&w===p.alternate)break t;w=Tn(w),p=Tn(p)}w=null}else w=null;g!==null&&lc(c,f,g,w,!1),_!==null&&P!==null&&lc(c,P,_,w,!0)}}e:{if(f=a?An(a):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var C=r_;else if(Za(f))if(Pf)C=l_;else{C=s_;var T=i_}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=o_);if(C&&(C=C(t,a))){xf(c,C,n,d);break e}T&&T(t,f,a),t==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&il(f,"number",f.value)}switch(T=a?An(a):window,t){case"focusin":(Za(T)||T.contentEditable==="true")&&(Pn=T,gl=a,Fr=null);break;case"focusout":Fr=gl=Pn=null;break;case"mousedown":_l=!0;break;case"contextmenu":case"mouseup":case"dragend":_l=!1,ic(c,n,d);break;case"selectionchange":if(c_)break;case"keydown":case"keyup":ic(c,n,d)}var I;if(Ru)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else xn?Nf(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(If&&n.locale!=="ko"&&(xn||N!=="onCompositionStart"?N==="onCompositionEnd"&&xn&&(I=Tf()):(Dt=d,Tu="value"in Dt?Dt.value:Dt.textContent,xn=!0)),T=as(a,N),0<T.length&&(N=new Ya(N,t,null,n,d),c.push({event:N,listeners:T}),I?N.data=I:(I=Rf(n),I!==null&&(N.data=I)))),(I=Jg?Zg(t,n):e_(t,n))&&(a=as(a,"onBeforeInput"),0<a.length&&(d=new Ya("onBeforeInput","beforeinput",null,n,d),c.push({event:d,listeners:a}),d.data=I))}Wf(c,e)})}function Zr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function as(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Gr(t,n),s!=null&&r.unshift(Zr(t,s,i)),s=Gr(t,e),s!=null&&r.push(Zr(t,s,i))),t=t.return}return r}function Tn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lc(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,a=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&a!==null&&(l=a,i?(u=Gr(n,s),u!=null&&o.unshift(Zr(n,u,l))):i||(u=Gr(n,s),u!=null&&o.push(Zr(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var p_=/\r\n?/g,m_=/\u0000|\uFFFD/g;function uc(t){return(typeof t=="string"?t:""+t).replace(p_,`
`).replace(m_,"")}function Mi(t,e,n){if(e=uc(e),uc(t)!==e&&n)throw Error(v(425))}function cs(){}var yl=null,vl=null;function wl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sl=typeof setTimeout=="function"?setTimeout:void 0,g_=typeof clearTimeout=="function"?clearTimeout:void 0,ac=typeof Promise=="function"?Promise:void 0,__=typeof queueMicrotask=="function"?queueMicrotask:typeof ac<"u"?function(t){return ac.resolve(null).then(t).catch(y_)}:Sl;function y_(t){setTimeout(function(){throw t})}function Ro(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Yr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Yr(e)}function zt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ur=Math.random().toString(36).slice(2),lt="__reactFiber$"+ur,ei="__reactProps$"+ur,vt="__reactContainer$"+ur,El="__reactEvents$"+ur,v_="__reactListeners$"+ur,w_="__reactHandles$"+ur;function rn(t){var e=t[lt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vt]||n[lt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cc(t);t!==null;){if(n=t[lt])return n;t=cc(t)}return e}t=n,n=t.parentNode}return null}function mi(t){return t=t[lt]||t[vt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function An(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(v(33))}function $s(t){return t[ei]||null}var Cl=[],On=-1;function Yt(t){return{current:t}}function b(t){0>On||(t.current=Cl[On],Cl[On]=null,On--)}function j(t,e){On++,Cl[On]=t.current,t.current=e}var Gt={},Ee=Yt(Gt),Pe=Yt(!1),fn=Gt;function Xn(t,e){var n=t.type.contextTypes;if(!n)return Gt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function De(t){return t=t.childContextTypes,t!=null}function ds(){b(Pe),b(Ee)}function dc(t,e,n){if(Ee.current!==Gt)throw Error(v(168));j(Ee,e),j(Pe,n)}function Hf(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(v(108,ig(t)||"Unknown",i));return X({},n,r)}function fs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gt,fn=Ee.current,j(Ee,t),j(Pe,Pe.current),!0}function fc(t,e,n){var r=t.stateNode;if(!r)throw Error(v(169));n?(t=Hf(t,e,fn),r.__reactInternalMemoizedMergedChildContext=t,b(Pe),b(Ee),j(Ee,t)):b(Pe),j(Pe,n)}var ft=null,Vs=!1,xo=!1;function $f(t){ft===null?ft=[t]:ft.push(t)}function S_(t){Vs=!0,$f(t)}function qt(){if(!xo&&ft!==null){xo=!0;var t=0,e=U;try{var n=ft;for(U=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ft=null,Vs=!1}catch(i){throw ft!==null&&(ft=ft.slice(t+1)),pf(Su,qt),i}finally{U=e,xo=!1}}return null}var Mn=[],Ln=0,hs=null,ps=0,We=[],je=0,hn=null,ht=1,pt="";function Zt(t,e){Mn[Ln++]=ps,Mn[Ln++]=hs,hs=t,ps=e}function Vf(t,e,n){We[je++]=ht,We[je++]=pt,We[je++]=hn,hn=t;var r=ht;t=pt;var i=32-tt(r)-1;r&=~(1<<i),n+=1;var s=32-tt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ht=1<<32-tt(e)+i|n<<i|r,pt=s+t}else ht=1<<s|n<<i|r,pt=t}function Pu(t){t.return!==null&&(Zt(t,1),Vf(t,1,0))}function Du(t){for(;t===hs;)hs=Mn[--Ln],Mn[Ln]=null,ps=Mn[--Ln],Mn[Ln]=null;for(;t===hn;)hn=We[--je],We[je]=null,pt=We[--je],We[je]=null,ht=We[--je],We[je]=null}var Fe=null,Le=null,K=!1,Je=null;function bf(t,e){var n=He(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function hc(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fe=t,Le=zt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fe=t,Le=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=hn!==null?{id:ht,overflow:pt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=He(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Fe=t,Le=null,!0):!1;default:return!1}}function kl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tl(t){if(K){var e=Le;if(e){var n=e;if(!hc(t,e)){if(kl(t))throw Error(v(418));e=zt(n.nextSibling);var r=Fe;e&&hc(t,e)?bf(r,n):(t.flags=t.flags&-4097|2,K=!1,Fe=t)}}else{if(kl(t))throw Error(v(418));t.flags=t.flags&-4097|2,K=!1,Fe=t}}}function pc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fe=t}function Li(t){if(t!==Fe)return!1;if(!K)return pc(t),K=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wl(t.type,t.memoizedProps)),e&&(e=Le)){if(kl(t))throw Gf(),Error(v(418));for(;e;)bf(t,e),e=zt(e.nextSibling)}if(pc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(v(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Le=zt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Le=null}}else Le=Fe?zt(t.stateNode.nextSibling):null;return!0}function Gf(){for(var t=Le;t;)t=zt(t.nextSibling)}function Jn(){Le=Fe=null,K=!1}function Au(t){Je===null?Je=[t]:Je.push(t)}var E_=kt.ReactCurrentBatchConfig;function qe(t,e){if(t&&t.defaultProps){e=X({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ms=Yt(null),gs=null,Fn=null,Ou=null;function Mu(){Ou=Fn=gs=null}function Lu(t){var e=ms.current;b(ms),t._currentValue=e}function Il(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Vn(t,e){gs=t,Ou=Fn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Re=!0),t.firstContext=null)}function be(t){var e=t._currentValue;if(Ou!==t)if(t={context:t,memoizedValue:e,next:null},Fn===null){if(gs===null)throw Error(v(308));Fn=t,gs.dependencies={lanes:0,firstContext:t}}else Fn=Fn.next=t;return e}var sn=null;function Fu(t){sn===null?sn=[t]:sn.push(t)}function Qf(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Fu(e)):(n.next=i.next,i.next=n),e.interleaved=n,wt(t,r)}function wt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Rt=!1;function zu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ut(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,F&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,wt(t,n)}return i=r.interleaved,i===null?(e.next=e,Fu(r)):(e.next=i.next,i.next=e),r.interleaved=e,wt(t,n)}function Yi(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Eu(t,n)}}function mc(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _s(t,e,n,r){var i=t.updateQueue;Rt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,a=u.next;u.next=null,o===null?s=a:o.next=a,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=a:l.next=a,d.lastBaseUpdate=u))}if(s!==null){var c=i.baseState;o=0,d=a=u=null,l=s;do{var f=l.lane,g=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=t,w=l;switch(f=e,g=n,w.tag){case 1:if(_=w.payload,typeof _=="function"){c=_.call(g,c,f);break e}c=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=w.payload,f=typeof _=="function"?_.call(g,c,f):_,f==null)break e;c=X({},c,f);break e;case 2:Rt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(a=d=g,u=c):d=d.next=g,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(d===null&&(u=c),i.baseState=u,i.firstBaseUpdate=a,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);mn|=o,t.lanes=o,t.memoizedState=c}}function gc(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(v(191,i));i.call(r)}}}var Yf=new Gd.Component().refs;function Nl(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:X({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bs={isMounted:function(t){return(t=t._reactInternals)?En(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ke(),i=Wt(t),s=gt(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ut(t,s,i),e!==null&&(nt(e,t,i,r),Yi(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ke(),i=Wt(t),s=gt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ut(t,s,i),e!==null&&(nt(e,t,i,r),Yi(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ke(),r=Wt(t),i=gt(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ut(t,i,r),e!==null&&(nt(e,t,r,n),Yi(e,t,r))}};function _c(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Xr(n,r)||!Xr(i,s):!0}function qf(t,e,n){var r=!1,i=Gt,s=e.contextType;return typeof s=="object"&&s!==null?s=be(s):(i=De(e)?fn:Ee.current,r=e.contextTypes,s=(r=r!=null)?Xn(t,i):Gt),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bs,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function yc(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bs.enqueueReplaceState(e,e.state,null)}function Rl(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Yf,zu(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=be(s):(s=De(e)?fn:Ee.current,i.context=Xn(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Nl(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bs.enqueueReplaceState(i,i.state,null),_s(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Sr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(v(309));var r=n.stateNode}if(!r)throw Error(v(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;l===Yf&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(v(284));if(!n._owner)throw Error(v(290,t))}return t}function Fi(t,e){throw t=Object.prototype.toString.call(e),Error(v(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vc(t){var e=t._init;return e(t._payload)}function Xf(t){function e(p,h){if(t){var m=p.deletions;m===null?(p.deletions=[h],p.flags|=16):m.push(h)}}function n(p,h){if(!t)return null;for(;h!==null;)e(p,h),h=h.sibling;return null}function r(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function i(p,h){return p=jt(p,h),p.index=0,p.sibling=null,p}function s(p,h,m){return p.index=m,t?(m=p.alternate,m!==null?(m=m.index,m<h?(p.flags|=2,h):m):(p.flags|=2,h)):(p.flags|=1048576,h)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,h,m,y){return h===null||h.tag!==6?(h=Fo(m,p.mode,y),h.return=p,h):(h=i(h,m),h.return=p,h)}function u(p,h,m,y){var C=m.type;return C===Rn?d(p,h,m.props.children,y,m.key):h!==null&&(h.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Nt&&vc(C)===h.type)?(y=i(h,m.props),y.ref=Sr(p,h,m),y.return=p,y):(y=ts(m.type,m.key,m.props,null,p.mode,y),y.ref=Sr(p,h,m),y.return=p,y)}function a(p,h,m,y){return h===null||h.tag!==4||h.stateNode.containerInfo!==m.containerInfo||h.stateNode.implementation!==m.implementation?(h=zo(m,p.mode,y),h.return=p,h):(h=i(h,m.children||[]),h.return=p,h)}function d(p,h,m,y,C){return h===null||h.tag!==7?(h=cn(m,p.mode,y,C),h.return=p,h):(h=i(h,m),h.return=p,h)}function c(p,h,m){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Fo(""+h,p.mode,m),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ti:return m=ts(h.type,h.key,h.props,null,p.mode,m),m.ref=Sr(p,null,h),m.return=p,m;case Nn:return h=zo(h,p.mode,m),h.return=p,h;case Nt:var y=h._init;return c(p,y(h._payload),m)}if(xr(h)||gr(h))return h=cn(h,p.mode,m,null),h.return=p,h;Fi(p,h)}return null}function f(p,h,m,y){var C=h!==null?h.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return C!==null?null:l(p,h,""+m,y);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ti:return m.key===C?u(p,h,m,y):null;case Nn:return m.key===C?a(p,h,m,y):null;case Nt:return C=m._init,f(p,h,C(m._payload),y)}if(xr(m)||gr(m))return C!==null?null:d(p,h,m,y,null);Fi(p,m)}return null}function g(p,h,m,y,C){if(typeof y=="string"&&y!==""||typeof y=="number")return p=p.get(m)||null,l(h,p,""+y,C);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ti:return p=p.get(y.key===null?m:y.key)||null,u(h,p,y,C);case Nn:return p=p.get(y.key===null?m:y.key)||null,a(h,p,y,C);case Nt:var T=y._init;return g(p,h,m,T(y._payload),C)}if(xr(y)||gr(y))return p=p.get(m)||null,d(h,p,y,C,null);Fi(h,y)}return null}function _(p,h,m,y){for(var C=null,T=null,I=h,N=h=0,Z=null;I!==null&&N<m.length;N++){I.index>N?(Z=I,I=null):Z=I.sibling;var O=f(p,I,m[N],y);if(O===null){I===null&&(I=Z);break}t&&I&&O.alternate===null&&e(p,I),h=s(O,h,N),T===null?C=O:T.sibling=O,T=O,I=Z}if(N===m.length)return n(p,I),K&&Zt(p,N),C;if(I===null){for(;N<m.length;N++)I=c(p,m[N],y),I!==null&&(h=s(I,h,N),T===null?C=I:T.sibling=I,T=I);return K&&Zt(p,N),C}for(I=r(p,I);N<m.length;N++)Z=g(I,p,N,m[N],y),Z!==null&&(t&&Z.alternate!==null&&I.delete(Z.key===null?N:Z.key),h=s(Z,h,N),T===null?C=Z:T.sibling=Z,T=Z);return t&&I.forEach(function(Ke){return e(p,Ke)}),K&&Zt(p,N),C}function w(p,h,m,y){var C=gr(m);if(typeof C!="function")throw Error(v(150));if(m=C.call(m),m==null)throw Error(v(151));for(var T=C=null,I=h,N=h=0,Z=null,O=m.next();I!==null&&!O.done;N++,O=m.next()){I.index>N?(Z=I,I=null):Z=I.sibling;var Ke=f(p,I,O.value,y);if(Ke===null){I===null&&(I=Z);break}t&&I&&Ke.alternate===null&&e(p,I),h=s(Ke,h,N),T===null?C=Ke:T.sibling=Ke,T=Ke,I=Z}if(O.done)return n(p,I),K&&Zt(p,N),C;if(I===null){for(;!O.done;N++,O=m.next())O=c(p,O.value,y),O!==null&&(h=s(O,h,N),T===null?C=O:T.sibling=O,T=O);return K&&Zt(p,N),C}for(I=r(p,I);!O.done;N++,O=m.next())O=g(I,p,N,O.value,y),O!==null&&(t&&O.alternate!==null&&I.delete(O.key===null?N:O.key),h=s(O,h,N),T===null?C=O:T.sibling=O,T=O);return t&&I.forEach(function(pr){return e(p,pr)}),K&&Zt(p,N),C}function P(p,h,m,y){if(typeof m=="object"&&m!==null&&m.type===Rn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Ti:e:{for(var C=m.key,T=h;T!==null;){if(T.key===C){if(C=m.type,C===Rn){if(T.tag===7){n(p,T.sibling),h=i(T,m.props.children),h.return=p,p=h;break e}}else if(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Nt&&vc(C)===T.type){n(p,T.sibling),h=i(T,m.props),h.ref=Sr(p,T,m),h.return=p,p=h;break e}n(p,T);break}else e(p,T);T=T.sibling}m.type===Rn?(h=cn(m.props.children,p.mode,y,m.key),h.return=p,p=h):(y=ts(m.type,m.key,m.props,null,p.mode,y),y.ref=Sr(p,h,m),y.return=p,p=y)}return o(p);case Nn:e:{for(T=m.key;h!==null;){if(h.key===T)if(h.tag===4&&h.stateNode.containerInfo===m.containerInfo&&h.stateNode.implementation===m.implementation){n(p,h.sibling),h=i(h,m.children||[]),h.return=p,p=h;break e}else{n(p,h);break}else e(p,h);h=h.sibling}h=zo(m,p.mode,y),h.return=p,p=h}return o(p);case Nt:return T=m._init,P(p,h,T(m._payload),y)}if(xr(m))return _(p,h,m,y);if(gr(m))return w(p,h,m,y);Fi(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,h!==null&&h.tag===6?(n(p,h.sibling),h=i(h,m),h.return=p,p=h):(n(p,h),h=Fo(m,p.mode,y),h.return=p,p=h),o(p)):n(p,h)}return P}var Zn=Xf(!0),Jf=Xf(!1),gi={},ct=Yt(gi),ti=Yt(gi),ni=Yt(gi);function on(t){if(t===gi)throw Error(v(174));return t}function Uu(t,e){switch(j(ni,e),j(ti,t),j(ct,gi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ol(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ol(e,t)}b(ct),j(ct,e)}function er(){b(ct),b(ti),b(ni)}function Zf(t){on(ni.current);var e=on(ct.current),n=ol(e,t.type);e!==n&&(j(ti,t),j(ct,n))}function Bu(t){ti.current===t&&(b(ct),b(ti))}var Y=Yt(0);function ys(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Po=[];function Wu(){for(var t=0;t<Po.length;t++)Po[t]._workInProgressVersionPrimary=null;Po.length=0}var qi=kt.ReactCurrentDispatcher,Do=kt.ReactCurrentBatchConfig,pn=0,q=null,re=null,ue=null,vs=!1,zr=!1,ri=0,C_=0;function _e(){throw Error(v(321))}function ju(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!it(t[n],e[n]))return!1;return!0}function Hu(t,e,n,r,i,s){if(pn=s,q=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qi.current=t===null||t.memoizedState===null?N_:R_,t=n(r,i),zr){s=0;do{if(zr=!1,ri=0,25<=s)throw Error(v(301));s+=1,ue=re=null,e.updateQueue=null,qi.current=x_,t=n(r,i)}while(zr)}if(qi.current=ws,e=re!==null&&re.next!==null,pn=0,ue=re=q=null,vs=!1,e)throw Error(v(300));return t}function $u(){var t=ri!==0;return ri=0,t}function ot(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?q.memoizedState=ue=t:ue=ue.next=t,ue}function Ge(){if(re===null){var t=q.alternate;t=t!==null?t.memoizedState:null}else t=re.next;var e=ue===null?q.memoizedState:ue.next;if(e!==null)ue=e,re=t;else{if(t===null)throw Error(v(310));re=t,t={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},ue===null?q.memoizedState=ue=t:ue=ue.next=t}return ue}function ii(t,e){return typeof e=="function"?e(t):e}function Ao(t){var e=Ge(),n=e.queue;if(n===null)throw Error(v(311));n.lastRenderedReducer=t;var r=re,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,a=s;do{var d=a.lane;if((pn&d)===d)u!==null&&(u=u.next={lane:0,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null}),r=a.hasEagerState?a.eagerState:t(r,a.action);else{var c={lane:d,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null};u===null?(l=u=c,o=r):u=u.next=c,q.lanes|=d,mn|=d}a=a.next}while(a!==null&&a!==s);u===null?o=r:u.next=l,it(r,e.memoizedState)||(Re=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,q.lanes|=s,mn|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Oo(t){var e=Ge(),n=e.queue;if(n===null)throw Error(v(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);it(s,e.memoizedState)||(Re=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function eh(){}function th(t,e){var n=q,r=Ge(),i=e(),s=!it(r.memoizedState,i);if(s&&(r.memoizedState=i,Re=!0),r=r.queue,Vu(ih.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ue!==null&&ue.memoizedState.tag&1){if(n.flags|=2048,si(9,rh.bind(null,n,r,i,e),void 0,null),ce===null)throw Error(v(349));pn&30||nh(n,e,i)}return i}function nh(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=q.updateQueue,e===null?(e={lastEffect:null,stores:null},q.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function rh(t,e,n,r){e.value=n,e.getSnapshot=r,sh(e)&&oh(t)}function ih(t,e,n){return n(function(){sh(e)&&oh(t)})}function sh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!it(t,n)}catch{return!0}}function oh(t){var e=wt(t,1);e!==null&&nt(e,t,1,-1)}function wc(t){var e=ot();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:t},e.queue=t,t=t.dispatch=I_.bind(null,q,t),[e.memoizedState,t]}function si(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=q.updateQueue,e===null?(e={lastEffect:null,stores:null},q.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function lh(){return Ge().memoizedState}function Xi(t,e,n,r){var i=ot();q.flags|=t,i.memoizedState=si(1|e,n,void 0,r===void 0?null:r)}function Gs(t,e,n,r){var i=Ge();r=r===void 0?null:r;var s=void 0;if(re!==null){var o=re.memoizedState;if(s=o.destroy,r!==null&&ju(r,o.deps)){i.memoizedState=si(e,n,s,r);return}}q.flags|=t,i.memoizedState=si(1|e,n,s,r)}function Sc(t,e){return Xi(8390656,8,t,e)}function Vu(t,e){return Gs(2048,8,t,e)}function uh(t,e){return Gs(4,2,t,e)}function ah(t,e){return Gs(4,4,t,e)}function ch(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dh(t,e,n){return n=n!=null?n.concat([t]):null,Gs(4,4,ch.bind(null,e,t),n)}function bu(){}function fh(t,e){var n=Ge();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ju(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function hh(t,e){var n=Ge();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ju(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ph(t,e,n){return pn&21?(it(n,e)||(n=_f(),q.lanes|=n,mn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Re=!0),t.memoizedState=n)}function k_(t,e){var n=U;U=n!==0&&4>n?n:4,t(!0);var r=Do.transition;Do.transition={};try{t(!1),e()}finally{U=n,Do.transition=r}}function mh(){return Ge().memoizedState}function T_(t,e,n){var r=Wt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gh(t))_h(e,n);else if(n=Qf(t,e,n,r),n!==null){var i=ke();nt(n,t,r,i),yh(n,e,r)}}function I_(t,e,n){var r=Wt(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gh(t))_h(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,it(l,o)){var u=e.interleaved;u===null?(i.next=i,Fu(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=Qf(t,e,i,r),n!==null&&(i=ke(),nt(n,t,r,i),yh(n,e,r))}}function gh(t){var e=t.alternate;return t===q||e!==null&&e===q}function _h(t,e){zr=vs=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function yh(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Eu(t,n)}}var ws={readContext:be,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},N_={readContext:be,useCallback:function(t,e){return ot().memoizedState=[t,e===void 0?null:e],t},useContext:be,useEffect:Sc,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xi(4194308,4,ch.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xi(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xi(4,2,t,e)},useMemo:function(t,e){var n=ot();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ot();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=T_.bind(null,q,t),[r.memoizedState,t]},useRef:function(t){var e=ot();return t={current:t},e.memoizedState=t},useState:wc,useDebugValue:bu,useDeferredValue:function(t){return ot().memoizedState=t},useTransition:function(){var t=wc(!1),e=t[0];return t=k_.bind(null,t[1]),ot().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=q,i=ot();if(K){if(n===void 0)throw Error(v(407));n=n()}else{if(n=e(),ce===null)throw Error(v(349));pn&30||nh(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Sc(ih.bind(null,r,s,t),[t]),r.flags|=2048,si(9,rh.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ot(),e=ce.identifierPrefix;if(K){var n=pt,r=ht;n=(r&~(1<<32-tt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ri++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=C_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},R_={readContext:be,useCallback:fh,useContext:be,useEffect:Vu,useImperativeHandle:dh,useInsertionEffect:uh,useLayoutEffect:ah,useMemo:hh,useReducer:Ao,useRef:lh,useState:function(){return Ao(ii)},useDebugValue:bu,useDeferredValue:function(t){var e=Ge();return ph(e,re.memoizedState,t)},useTransition:function(){var t=Ao(ii)[0],e=Ge().memoizedState;return[t,e]},useMutableSource:eh,useSyncExternalStore:th,useId:mh,unstable_isNewReconciler:!1},x_={readContext:be,useCallback:fh,useContext:be,useEffect:Vu,useImperativeHandle:dh,useInsertionEffect:uh,useLayoutEffect:ah,useMemo:hh,useReducer:Oo,useRef:lh,useState:function(){return Oo(ii)},useDebugValue:bu,useDeferredValue:function(t){var e=Ge();return re===null?e.memoizedState=t:ph(e,re.memoizedState,t)},useTransition:function(){var t=Oo(ii)[0],e=Ge().memoizedState;return[t,e]},useMutableSource:eh,useSyncExternalStore:th,useId:mh,unstable_isNewReconciler:!1};function tr(t,e){try{var n="",r=e;do n+=rg(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Mo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function xl(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var P_=typeof WeakMap=="function"?WeakMap:Map;function vh(t,e,n){n=gt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Es||(Es=!0,Bl=r),xl(t,e)},n}function wh(t,e,n){n=gt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){xl(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){xl(t,e),typeof r!="function"&&(Bt===null?Bt=new Set([this]):Bt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ec(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new P_;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=V_.bind(null,t,e,n),e.then(t,t))}function Cc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function kc(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gt(-1,1),e.tag=2,Ut(n,e,1))),n.lanes|=1),t)}var D_=kt.ReactCurrentOwner,Re=!1;function Ce(t,e,n,r){e.child=t===null?Jf(e,null,n,r):Zn(e,t.child,n,r)}function Tc(t,e,n,r,i){n=n.render;var s=e.ref;return Vn(e,i),r=Hu(t,e,n,r,s,i),n=$u(),t!==null&&!Re?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,St(t,e,i)):(K&&n&&Pu(e),e.flags|=1,Ce(t,e,r,i),e.child)}function Ic(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Zu(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Sh(t,e,s,r,i)):(t=ts(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Xr,n(o,r)&&t.ref===e.ref)return St(t,e,i)}return e.flags|=1,t=jt(s,r),t.ref=e.ref,t.return=e,e.child=t}function Sh(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Xr(s,r)&&t.ref===e.ref)if(Re=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Re=!0);else return e.lanes=t.lanes,St(t,e,i)}return Pl(t,e,n,r,i)}function Eh(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},j(Un,Me),Me|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,j(Un,Me),Me|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,j(Un,Me),Me|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,j(Un,Me),Me|=r;return Ce(t,e,i,n),e.child}function Ch(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Pl(t,e,n,r,i){var s=De(n)?fn:Ee.current;return s=Xn(e,s),Vn(e,i),n=Hu(t,e,n,r,s,i),r=$u(),t!==null&&!Re?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,St(t,e,i)):(K&&r&&Pu(e),e.flags|=1,Ce(t,e,n,i),e.child)}function Nc(t,e,n,r,i){if(De(n)){var s=!0;fs(e)}else s=!1;if(Vn(e,i),e.stateNode===null)Ji(t,e),qf(e,n,r),Rl(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,a=n.contextType;typeof a=="object"&&a!==null?a=be(a):(a=De(n)?fn:Ee.current,a=Xn(e,a));var d=n.getDerivedStateFromProps,c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==a)&&yc(e,o,r,a),Rt=!1;var f=e.memoizedState;o.state=f,_s(e,r,o,i),u=e.memoizedState,l!==r||f!==u||Pe.current||Rt?(typeof d=="function"&&(Nl(e,n,d,r),u=e.memoizedState),(l=Rt||_c(e,n,l,r,f,u,a))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=a,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Kf(t,e),l=e.memoizedProps,a=e.type===e.elementType?l:qe(e.type,l),o.props=a,c=e.pendingProps,f=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=be(u):(u=De(n)?fn:Ee.current,u=Xn(e,u));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==c||f!==u)&&yc(e,o,r,u),Rt=!1,f=e.memoizedState,o.state=f,_s(e,r,o,i);var _=e.memoizedState;l!==c||f!==_||Pe.current||Rt?(typeof g=="function"&&(Nl(e,n,g,r),_=e.memoizedState),(a=Rt||_c(e,n,a,r,f,_,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=u,r=a):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Dl(t,e,n,r,s,i)}function Dl(t,e,n,r,i,s){Ch(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&fc(e,n,!1),St(t,e,s);r=e.stateNode,D_.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Zn(e,t.child,null,s),e.child=Zn(e,null,l,s)):Ce(t,e,l,s),e.memoizedState=r.state,i&&fc(e,n,!0),e.child}function kh(t){var e=t.stateNode;e.pendingContext?dc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dc(t,e.context,!1),Uu(t,e.containerInfo)}function Rc(t,e,n,r,i){return Jn(),Au(i),e.flags|=256,Ce(t,e,n,r),e.child}var Al={dehydrated:null,treeContext:null,retryLane:0};function Ol(t){return{baseLanes:t,cachePool:null,transitions:null}}function Th(t,e,n){var r=e.pendingProps,i=Y.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),j(Y,i&1),t===null)return Tl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ys(o,r,0,null),t=cn(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ol(n),e.memoizedState=Al,t):Gu(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return A_(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=jt(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=jt(l,s):(s=cn(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ol(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Al,r}return s=t.child,t=s.sibling,r=jt(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Gu(t,e){return e=Ys({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zi(t,e,n,r){return r!==null&&Au(r),Zn(e,t.child,null,n),t=Gu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function A_(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Mo(Error(v(422))),zi(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ys({mode:"visible",children:r.children},i,0,null),s=cn(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Zn(e,t.child,null,o),e.child.memoizedState=Ol(o),e.memoizedState=Al,s);if(!(e.mode&1))return zi(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(v(419)),r=Mo(s,r,void 0),zi(t,e,o,r)}if(l=(o&t.childLanes)!==0,Re||l){if(r=ce,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,wt(t,i),nt(r,t,i,-1))}return Ju(),r=Mo(Error(v(421))),zi(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=b_.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Le=zt(i.nextSibling),Fe=e,K=!0,Je=null,t!==null&&(We[je++]=ht,We[je++]=pt,We[je++]=hn,ht=t.id,pt=t.overflow,hn=e),e=Gu(e,r.children),e.flags|=4096,e)}function xc(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Il(t.return,e,n)}function Lo(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ih(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ce(t,e,r.children,n),r=Y.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xc(t,n,e);else if(t.tag===19)xc(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(j(Y,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ys(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Lo(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ys(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Lo(e,!0,n,null,s);break;case"together":Lo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ji(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function St(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),mn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(v(153));if(e.child!==null){for(t=e.child,n=jt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=jt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function O_(t,e,n){switch(e.tag){case 3:kh(e),Jn();break;case 5:Zf(e);break;case 1:De(e.type)&&fs(e);break;case 4:Uu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;j(ms,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(j(Y,Y.current&1),e.flags|=128,null):n&e.child.childLanes?Th(t,e,n):(j(Y,Y.current&1),t=St(t,e,n),t!==null?t.sibling:null);j(Y,Y.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ih(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),j(Y,Y.current),r)break;return null;case 22:case 23:return e.lanes=0,Eh(t,e,n)}return St(t,e,n)}var Nh,Ml,Rh,xh;Nh=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ml=function(){};Rh=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,on(ct.current);var s=null;switch(n){case"input":i=nl(t,i),r=nl(t,r),s=[];break;case"select":i=X({},i,{value:void 0}),r=X({},r,{value:void 0}),s=[];break;case"textarea":i=sl(t,i),r=sl(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=cs)}ll(n,r);var o;n=null;for(a in i)if(!r.hasOwnProperty(a)&&i.hasOwnProperty(a)&&i[a]!=null)if(a==="style"){var l=i[a];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else a!=="dangerouslySetInnerHTML"&&a!=="children"&&a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Vr.hasOwnProperty(a)?s||(s=[]):(s=s||[]).push(a,null));for(a in r){var u=r[a];if(l=i!=null?i[a]:void 0,r.hasOwnProperty(a)&&u!==l&&(u!=null||l!=null))if(a==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(a,n)),n=u;else a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(a,u)):a==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(a,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&(Vr.hasOwnProperty(a)?(u!=null&&a==="onScroll"&&H("scroll",t),s||l===u||(s=[])):(s=s||[]).push(a,u))}n&&(s=s||[]).push("style",n);var a=s;(e.updateQueue=a)&&(e.flags|=4)}};xh=function(t,e,n,r){n!==r&&(e.flags|=4)};function Er(t,e){if(!K)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ye(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function M_(t,e,n){var r=e.pendingProps;switch(Du(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(e),null;case 1:return De(e.type)&&ds(),ye(e),null;case 3:return r=e.stateNode,er(),b(Pe),b(Ee),Wu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Li(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Je!==null&&(Hl(Je),Je=null))),Ml(t,e),ye(e),null;case 5:Bu(e);var i=on(ni.current);if(n=e.type,t!==null&&e.stateNode!=null)Rh(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(v(166));return ye(e),null}if(t=on(ct.current),Li(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[lt]=e,r[ei]=s,t=(e.mode&1)!==0,n){case"dialog":H("cancel",r),H("close",r);break;case"iframe":case"object":case"embed":H("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)H(Dr[i],r);break;case"source":H("error",r);break;case"img":case"image":case"link":H("error",r),H("load",r);break;case"details":H("toggle",r);break;case"input":Ua(r,s),H("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},H("invalid",r);break;case"textarea":Wa(r,s),H("invalid",r)}ll(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Mi(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Mi(r.textContent,l,t),i=["children",""+l]):Vr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&H("scroll",r)}switch(n){case"input":Ii(r),Ba(r,s,!0);break;case"textarea":Ii(r),ja(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=cs)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=tf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[lt]=e,t[ei]=r,Nh(t,e,!1,!1),e.stateNode=t;e:{switch(o=ul(n,r),n){case"dialog":H("cancel",t),H("close",t),i=r;break;case"iframe":case"object":case"embed":H("load",t),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)H(Dr[i],t);i=r;break;case"source":H("error",t),i=r;break;case"img":case"image":case"link":H("error",t),H("load",t),i=r;break;case"details":H("toggle",t),i=r;break;case"input":Ua(t,r),i=nl(t,r),H("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=X({},r,{value:void 0}),H("invalid",t);break;case"textarea":Wa(t,r),i=sl(t,r),H("invalid",t);break;default:i=r}ll(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?sf(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&nf(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&br(t,u):typeof u=="number"&&br(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vr.hasOwnProperty(s)?u!=null&&s==="onScroll"&&H("scroll",t):u!=null&&gu(t,s,u,o))}switch(n){case"input":Ii(t),Ba(t,r,!1);break;case"textarea":Ii(t),ja(t);break;case"option":r.value!=null&&t.setAttribute("value",""+bt(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Wn(t,!!r.multiple,s,!1):r.defaultValue!=null&&Wn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=cs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ye(e),null;case 6:if(t&&e.stateNode!=null)xh(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(v(166));if(n=on(ni.current),on(ct.current),Li(e)){if(r=e.stateNode,n=e.memoizedProps,r[lt]=e,(s=r.nodeValue!==n)&&(t=Fe,t!==null))switch(t.tag){case 3:Mi(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mi(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lt]=e,e.stateNode=r}return ye(e),null;case 13:if(b(Y),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(K&&Le!==null&&e.mode&1&&!(e.flags&128))Gf(),Jn(),e.flags|=98560,s=!1;else if(s=Li(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(v(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(v(317));s[lt]=e}else Jn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ye(e),s=!1}else Je!==null&&(Hl(Je),Je=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Y.current&1?se===0&&(se=3):Ju())),e.updateQueue!==null&&(e.flags|=4),ye(e),null);case 4:return er(),Ml(t,e),t===null&&Jr(e.stateNode.containerInfo),ye(e),null;case 10:return Lu(e.type._context),ye(e),null;case 17:return De(e.type)&&ds(),ye(e),null;case 19:if(b(Y),s=e.memoizedState,s===null)return ye(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Er(s,!1);else{if(se!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ys(t),o!==null){for(e.flags|=128,Er(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return j(Y,Y.current&1|2),e.child}t=t.sibling}s.tail!==null&&te()>nr&&(e.flags|=128,r=!0,Er(s,!1),e.lanes=4194304)}else{if(!r)if(t=ys(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Er(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!K)return ye(e),null}else 2*te()-s.renderingStartTime>nr&&n!==1073741824&&(e.flags|=128,r=!0,Er(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=te(),e.sibling=null,n=Y.current,j(Y,r?n&1|2:n&1),e):(ye(e),null);case 22:case 23:return Xu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Me&1073741824&&(ye(e),e.subtreeFlags&6&&(e.flags|=8192)):ye(e),null;case 24:return null;case 25:return null}throw Error(v(156,e.tag))}function L_(t,e){switch(Du(e),e.tag){case 1:return De(e.type)&&ds(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return er(),b(Pe),b(Ee),Wu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Bu(e),null;case 13:if(b(Y),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(v(340));Jn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return b(Y),null;case 4:return er(),null;case 10:return Lu(e.type._context),null;case 22:case 23:return Xu(),null;case 24:return null;default:return null}}var Ui=!1,ve=!1,F_=typeof WeakSet=="function"?WeakSet:Set,E=null;function zn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){J(t,e,r)}else n.current=null}function Ll(t,e,n){try{n()}catch(r){J(t,e,r)}}var Pc=!1;function z_(t,e){if(yl=ls,t=Of(),xu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,a=0,d=0,c=t,f=null;t:for(;;){for(var g;c!==n||i!==0&&c.nodeType!==3||(l=o+i),c!==s||r!==0&&c.nodeType!==3||(u=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(g=c.firstChild)!==null;)f=c,c=g;for(;;){if(c===t)break t;if(f===n&&++a===i&&(l=o),f===s&&++d===r&&(u=o),(g=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=g}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(vl={focusedElem:t,selectionRange:n},ls=!1,E=e;E!==null;)if(e=E,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,E=t;else for(;E!==null;){e=E;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var w=_.memoizedProps,P=_.memoizedState,p=e.stateNode,h=p.getSnapshotBeforeUpdate(e.elementType===e.type?w:qe(e.type,w),P);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(v(163))}}catch(y){J(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,E=t;break}E=e.return}return _=Pc,Pc=!1,_}function Ur(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ll(e,n,s)}i=i.next}while(i!==r)}}function Qs(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Fl(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ph(t){var e=t.alternate;e!==null&&(t.alternate=null,Ph(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lt],delete e[ei],delete e[El],delete e[v_],delete e[w_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Dh(t){return t.tag===5||t.tag===3||t.tag===4}function Dc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=cs));else if(r!==4&&(t=t.child,t!==null))for(zl(t,e,n),t=t.sibling;t!==null;)zl(t,e,n),t=t.sibling}function Ul(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ul(t,e,n),t=t.sibling;t!==null;)Ul(t,e,n),t=t.sibling}var fe=null,Xe=!1;function It(t,e,n){for(n=n.child;n!==null;)Ah(t,e,n),n=n.sibling}function Ah(t,e,n){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(Bs,n)}catch{}switch(n.tag){case 5:ve||zn(n,e);case 6:var r=fe,i=Xe;fe=null,It(t,e,n),fe=r,Xe=i,fe!==null&&(Xe?(t=fe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):fe.removeChild(n.stateNode));break;case 18:fe!==null&&(Xe?(t=fe,n=n.stateNode,t.nodeType===8?Ro(t.parentNode,n):t.nodeType===1&&Ro(t,n),Yr(t)):Ro(fe,n.stateNode));break;case 4:r=fe,i=Xe,fe=n.stateNode.containerInfo,Xe=!0,It(t,e,n),fe=r,Xe=i;break;case 0:case 11:case 14:case 15:if(!ve&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ll(n,e,o),i=i.next}while(i!==r)}It(t,e,n);break;case 1:if(!ve&&(zn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){J(n,e,l)}It(t,e,n);break;case 21:It(t,e,n);break;case 22:n.mode&1?(ve=(r=ve)||n.memoizedState!==null,It(t,e,n),ve=r):It(t,e,n);break;default:It(t,e,n)}}function Ac(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new F_),e.forEach(function(r){var i=G_.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ye(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:fe=l.stateNode,Xe=!1;break e;case 3:fe=l.stateNode.containerInfo,Xe=!0;break e;case 4:fe=l.stateNode.containerInfo,Xe=!0;break e}l=l.return}if(fe===null)throw Error(v(160));Ah(s,o,i),fe=null,Xe=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(a){J(i,e,a)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Oh(e,t),e=e.sibling}function Oh(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ye(e,t),st(t),r&4){try{Ur(3,t,t.return),Qs(3,t)}catch(w){J(t,t.return,w)}try{Ur(5,t,t.return)}catch(w){J(t,t.return,w)}}break;case 1:Ye(e,t),st(t),r&512&&n!==null&&zn(n,n.return);break;case 5:if(Ye(e,t),st(t),r&512&&n!==null&&zn(n,n.return),t.flags&32){var i=t.stateNode;try{br(i,"")}catch(w){J(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Zd(i,s),ul(l,o);var a=ul(l,s);for(o=0;o<u.length;o+=2){var d=u[o],c=u[o+1];d==="style"?sf(i,c):d==="dangerouslySetInnerHTML"?nf(i,c):d==="children"?br(i,c):gu(i,d,c,a)}switch(l){case"input":rl(i,s);break;case"textarea":ef(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Wn(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Wn(i,!!s.multiple,s.defaultValue,!0):Wn(i,!!s.multiple,s.multiple?[]:"",!1))}i[ei]=s}catch(w){J(t,t.return,w)}}break;case 6:if(Ye(e,t),st(t),r&4){if(t.stateNode===null)throw Error(v(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){J(t,t.return,w)}}break;case 3:if(Ye(e,t),st(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yr(e.containerInfo)}catch(w){J(t,t.return,w)}break;case 4:Ye(e,t),st(t);break;case 13:Ye(e,t),st(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Yu=te())),r&4&&Ac(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ve=(a=ve)||d,Ye(e,t),ve=a):Ye(e,t),st(t),r&8192){if(a=t.memoizedState!==null,(t.stateNode.isHidden=a)&&!d&&t.mode&1)for(E=t,d=t.child;d!==null;){for(c=E=d;E!==null;){switch(f=E,g=f.child,f.tag){case 0:case 11:case 14:case 15:Ur(4,f,f.return);break;case 1:zn(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(w){J(r,n,w)}}break;case 5:zn(f,f.return);break;case 22:if(f.memoizedState!==null){Mc(c);continue}}g!==null?(g.return=f,E=g):Mc(c)}d=d.sibling}e:for(d=null,c=t;;){if(c.tag===5){if(d===null){d=c;try{i=c.stateNode,a?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=c.stateNode,u=c.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=rf("display",o))}catch(w){J(t,t.return,w)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(w){J(t,t.return,w)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Ye(e,t),st(t),r&4&&Ac(t);break;case 21:break;default:Ye(e,t),st(t)}}function st(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Dh(n)){var r=n;break e}n=n.return}throw Error(v(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(br(i,""),r.flags&=-33);var s=Dc(t);Ul(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Dc(t);zl(t,l,o);break;default:throw Error(v(161))}}catch(u){J(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function U_(t,e,n){E=t,Mh(t)}function Mh(t,e,n){for(var r=(t.mode&1)!==0;E!==null;){var i=E,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ui;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||ve;l=Ui;var a=ve;if(Ui=o,(ve=u)&&!a)for(E=i;E!==null;)o=E,u=o.child,o.tag===22&&o.memoizedState!==null?Lc(i):u!==null?(u.return=o,E=u):Lc(i);for(;s!==null;)E=s,Mh(s),s=s.sibling;E=i,Ui=l,ve=a}Oc(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,E=s):Oc(t)}}function Oc(t){for(;E!==null;){var e=E;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ve||Qs(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ve)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:qe(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&gc(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}gc(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var a=e.alternate;if(a!==null){var d=a.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&Yr(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(v(163))}ve||e.flags&512&&Fl(e)}catch(f){J(e,e.return,f)}}if(e===t){E=null;break}if(n=e.sibling,n!==null){n.return=e.return,E=n;break}E=e.return}}function Mc(t){for(;E!==null;){var e=E;if(e===t){E=null;break}var n=e.sibling;if(n!==null){n.return=e.return,E=n;break}E=e.return}}function Lc(t){for(;E!==null;){var e=E;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qs(4,e)}catch(u){J(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){J(e,i,u)}}var s=e.return;try{Fl(e)}catch(u){J(e,s,u)}break;case 5:var o=e.return;try{Fl(e)}catch(u){J(e,o,u)}}}catch(u){J(e,e.return,u)}if(e===t){E=null;break}var l=e.sibling;if(l!==null){l.return=e.return,E=l;break}E=e.return}}var B_=Math.ceil,Ss=kt.ReactCurrentDispatcher,Qu=kt.ReactCurrentOwner,Ve=kt.ReactCurrentBatchConfig,F=0,ce=null,ne=null,me=0,Me=0,Un=Yt(0),se=0,oi=null,mn=0,Ks=0,Ku=0,Br=null,Ne=null,Yu=0,nr=1/0,dt=null,Es=!1,Bl=null,Bt=null,Bi=!1,At=null,Cs=0,Wr=0,Wl=null,Zi=-1,es=0;function ke(){return F&6?te():Zi!==-1?Zi:Zi=te()}function Wt(t){return t.mode&1?F&2&&me!==0?me&-me:E_.transition!==null?(es===0&&(es=_f()),es):(t=U,t!==0||(t=window.event,t=t===void 0?16:kf(t.type)),t):1}function nt(t,e,n,r){if(50<Wr)throw Wr=0,Wl=null,Error(v(185));hi(t,n,r),(!(F&2)||t!==ce)&&(t===ce&&(!(F&2)&&(Ks|=n),se===4&&Pt(t,me)),Ae(t,r),n===1&&F===0&&!(e.mode&1)&&(nr=te()+500,Vs&&qt()))}function Ae(t,e){var n=t.callbackNode;Eg(t,e);var r=os(t,t===ce?me:0);if(r===0)n!==null&&Va(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Va(n),e===1)t.tag===0?S_(Fc.bind(null,t)):$f(Fc.bind(null,t)),__(function(){!(F&6)&&qt()}),n=null;else{switch(yf(r)){case 1:n=Su;break;case 4:n=mf;break;case 16:n=ss;break;case 536870912:n=gf;break;default:n=ss}n=Hh(n,Lh.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Lh(t,e){if(Zi=-1,es=0,F&6)throw Error(v(327));var n=t.callbackNode;if(bn()&&t.callbackNode!==n)return null;var r=os(t,t===ce?me:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ks(t,r);else{e=r;var i=F;F|=2;var s=zh();(ce!==t||me!==e)&&(dt=null,nr=te()+500,an(t,e));do try{H_();break}catch(l){Fh(t,l)}while(1);Mu(),Ss.current=s,F=i,ne!==null?e=0:(ce=null,me=0,e=se)}if(e!==0){if(e===2&&(i=hl(t),i!==0&&(r=i,e=jl(t,i))),e===1)throw n=oi,an(t,0),Pt(t,r),Ae(t,te()),n;if(e===6)Pt(t,r);else{if(i=t.current.alternate,!(r&30)&&!W_(i)&&(e=ks(t,r),e===2&&(s=hl(t),s!==0&&(r=s,e=jl(t,s))),e===1))throw n=oi,an(t,0),Pt(t,r),Ae(t,te()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(v(345));case 2:en(t,Ne,dt);break;case 3:if(Pt(t,r),(r&130023424)===r&&(e=Yu+500-te(),10<e)){if(os(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ke(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Sl(en.bind(null,t,Ne,dt),e);break}en(t,Ne,dt);break;case 4:if(Pt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-tt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*B_(r/1960))-r,10<r){t.timeoutHandle=Sl(en.bind(null,t,Ne,dt),r);break}en(t,Ne,dt);break;case 5:en(t,Ne,dt);break;default:throw Error(v(329))}}}return Ae(t,te()),t.callbackNode===n?Lh.bind(null,t):null}function jl(t,e){var n=Br;return t.current.memoizedState.isDehydrated&&(an(t,e).flags|=256),t=ks(t,e),t!==2&&(e=Ne,Ne=n,e!==null&&Hl(e)),t}function Hl(t){Ne===null?Ne=t:Ne.push.apply(Ne,t)}function W_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!it(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pt(t,e){for(e&=~Ku,e&=~Ks,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tt(e),r=1<<n;t[n]=-1,e&=~r}}function Fc(t){if(F&6)throw Error(v(327));bn();var e=os(t,0);if(!(e&1))return Ae(t,te()),null;var n=ks(t,e);if(t.tag!==0&&n===2){var r=hl(t);r!==0&&(e=r,n=jl(t,r))}if(n===1)throw n=oi,an(t,0),Pt(t,e),Ae(t,te()),n;if(n===6)throw Error(v(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,en(t,Ne,dt),Ae(t,te()),null}function qu(t,e){var n=F;F|=1;try{return t(e)}finally{F=n,F===0&&(nr=te()+500,Vs&&qt())}}function gn(t){At!==null&&At.tag===0&&!(F&6)&&bn();var e=F;F|=1;var n=Ve.transition,r=U;try{if(Ve.transition=null,U=1,t)return t()}finally{U=r,Ve.transition=n,F=e,!(F&6)&&qt()}}function Xu(){Me=Un.current,b(Un)}function an(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,g_(n)),ne!==null)for(n=ne.return;n!==null;){var r=n;switch(Du(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ds();break;case 3:er(),b(Pe),b(Ee),Wu();break;case 5:Bu(r);break;case 4:er();break;case 13:b(Y);break;case 19:b(Y);break;case 10:Lu(r.type._context);break;case 22:case 23:Xu()}n=n.return}if(ce=t,ne=t=jt(t.current,null),me=Me=e,se=0,oi=null,Ku=Ks=mn=0,Ne=Br=null,sn!==null){for(e=0;e<sn.length;e++)if(n=sn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}sn=null}return t}function Fh(t,e){do{var n=ne;try{if(Mu(),qi.current=ws,vs){for(var r=q.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vs=!1}if(pn=0,ue=re=q=null,zr=!1,ri=0,Qu.current=null,n===null||n.return===null){se=1,oi=e,ne=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=me,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var a=u,d=l,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Cc(o);if(g!==null){g.flags&=-257,kc(g,o,l,s,e),g.mode&1&&Ec(s,a,e),e=g,u=a;var _=e.updateQueue;if(_===null){var w=new Set;w.add(u),e.updateQueue=w}else _.add(u);break e}else{if(!(e&1)){Ec(s,a,e),Ju();break e}u=Error(v(426))}}else if(K&&l.mode&1){var P=Cc(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),kc(P,o,l,s,e),Au(tr(u,l));break e}}s=u=tr(u,l),se!==4&&(se=2),Br===null?Br=[s]:Br.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=vh(s,u,e);mc(s,p);break e;case 1:l=u;var h=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Bt===null||!Bt.has(m)))){s.flags|=65536,e&=-e,s.lanes|=e;var y=wh(s,l,e);mc(s,y);break e}}s=s.return}while(s!==null)}Bh(n)}catch(C){e=C,ne===n&&n!==null&&(ne=n=n.return);continue}break}while(1)}function zh(){var t=Ss.current;return Ss.current=ws,t===null?ws:t}function Ju(){(se===0||se===3||se===2)&&(se=4),ce===null||!(mn&268435455)&&!(Ks&268435455)||Pt(ce,me)}function ks(t,e){var n=F;F|=2;var r=zh();(ce!==t||me!==e)&&(dt=null,an(t,e));do try{j_();break}catch(i){Fh(t,i)}while(1);if(Mu(),F=n,Ss.current=r,ne!==null)throw Error(v(261));return ce=null,me=0,se}function j_(){for(;ne!==null;)Uh(ne)}function H_(){for(;ne!==null&&!hg();)Uh(ne)}function Uh(t){var e=jh(t.alternate,t,Me);t.memoizedProps=t.pendingProps,e===null?Bh(t):ne=e,Qu.current=null}function Bh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=L_(n,e),n!==null){n.flags&=32767,ne=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{se=6,ne=null;return}}else if(n=M_(n,e,Me),n!==null){ne=n;return}if(e=e.sibling,e!==null){ne=e;return}ne=e=t}while(e!==null);se===0&&(se=5)}function en(t,e,n){var r=U,i=Ve.transition;try{Ve.transition=null,U=1,$_(t,e,n,r)}finally{Ve.transition=i,U=r}return null}function $_(t,e,n,r){do bn();while(At!==null);if(F&6)throw Error(v(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(v(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Cg(t,s),t===ce&&(ne=ce=null,me=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bi||(Bi=!0,Hh(ss,function(){return bn(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ve.transition,Ve.transition=null;var o=U;U=1;var l=F;F|=4,Qu.current=null,z_(t,n),Oh(n,t),a_(vl),ls=!!yl,vl=yl=null,t.current=n,U_(n),pg(),F=l,U=o,Ve.transition=s}else t.current=n;if(Bi&&(Bi=!1,At=t,Cs=i),s=t.pendingLanes,s===0&&(Bt=null),_g(n.stateNode),Ae(t,te()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Es)throw Es=!1,t=Bl,Bl=null,t;return Cs&1&&t.tag!==0&&bn(),s=t.pendingLanes,s&1?t===Wl?Wr++:(Wr=0,Wl=t):Wr=0,qt(),null}function bn(){if(At!==null){var t=yf(Cs),e=Ve.transition,n=U;try{if(Ve.transition=null,U=16>t?16:t,At===null)var r=!1;else{if(t=At,At=null,Cs=0,F&6)throw Error(v(331));var i=F;for(F|=4,E=t.current;E!==null;){var s=E,o=s.child;if(E.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var a=l[u];for(E=a;E!==null;){var d=E;switch(d.tag){case 0:case 11:case 15:Ur(8,d,s)}var c=d.child;if(c!==null)c.return=d,E=c;else for(;E!==null;){d=E;var f=d.sibling,g=d.return;if(Ph(d),d===a){E=null;break}if(f!==null){f.return=g,E=f;break}E=g}}}var _=s.alternate;if(_!==null){var w=_.child;if(w!==null){_.child=null;do{var P=w.sibling;w.sibling=null,w=P}while(w!==null)}}E=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,E=o;else e:for(;E!==null;){if(s=E,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ur(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,E=p;break e}E=s.return}}var h=t.current;for(E=h;E!==null;){o=E;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,E=m;else e:for(o=h;E!==null;){if(l=E,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Qs(9,l)}}catch(C){J(l,l.return,C)}if(l===o){E=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,E=y;break e}E=l.return}}if(F=i,qt(),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(Bs,t)}catch{}r=!0}return r}finally{U=n,Ve.transition=e}}return!1}function zc(t,e,n){e=tr(n,e),e=vh(t,e,1),t=Ut(t,e,1),e=ke(),t!==null&&(hi(t,1,e),Ae(t,e))}function J(t,e,n){if(t.tag===3)zc(t,t,n);else for(;e!==null;){if(e.tag===3){zc(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bt===null||!Bt.has(r))){t=tr(n,t),t=wh(e,t,1),e=Ut(e,t,1),t=ke(),e!==null&&(hi(e,1,t),Ae(e,t));break}}e=e.return}}function V_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ke(),t.pingedLanes|=t.suspendedLanes&n,ce===t&&(me&n)===n&&(se===4||se===3&&(me&130023424)===me&&500>te()-Yu?an(t,0):Ku|=n),Ae(t,e)}function Wh(t,e){e===0&&(t.mode&1?(e=xi,xi<<=1,!(xi&130023424)&&(xi=4194304)):e=1);var n=ke();t=wt(t,e),t!==null&&(hi(t,e,n),Ae(t,n))}function b_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Wh(t,n)}function G_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(v(314))}r!==null&&r.delete(e),Wh(t,n)}var jh;jh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pe.current)Re=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Re=!1,O_(t,e,n);Re=!!(t.flags&131072)}else Re=!1,K&&e.flags&1048576&&Vf(e,ps,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ji(t,e),t=e.pendingProps;var i=Xn(e,Ee.current);Vn(e,n),i=Hu(null,e,r,t,i,n);var s=$u();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,De(r)?(s=!0,fs(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zu(e),i.updater=bs,e.stateNode=i,i._reactInternals=e,Rl(e,r,t,n),e=Dl(null,e,r,!0,s,n)):(e.tag=0,K&&s&&Pu(e),Ce(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ji(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=K_(r),t=qe(r,t),i){case 0:e=Pl(null,e,r,t,n);break e;case 1:e=Nc(null,e,r,t,n);break e;case 11:e=Tc(null,e,r,t,n);break e;case 14:e=Ic(null,e,r,qe(r.type,t),n);break e}throw Error(v(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qe(r,i),Pl(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qe(r,i),Nc(t,e,r,i,n);case 3:e:{if(kh(e),t===null)throw Error(v(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Kf(t,e),_s(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=tr(Error(v(423)),e),e=Rc(t,e,r,n,i);break e}else if(r!==i){i=tr(Error(v(424)),e),e=Rc(t,e,r,n,i);break e}else for(Le=zt(e.stateNode.containerInfo.firstChild),Fe=e,K=!0,Je=null,n=Jf(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jn(),r===i){e=St(t,e,n);break e}Ce(t,e,r,n)}e=e.child}return e;case 5:return Zf(e),t===null&&Tl(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,wl(r,i)?o=null:s!==null&&wl(r,s)&&(e.flags|=32),Ch(t,e),Ce(t,e,o,n),e.child;case 6:return t===null&&Tl(e),null;case 13:return Th(t,e,n);case 4:return Uu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zn(e,null,r,n):Ce(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qe(r,i),Tc(t,e,r,i,n);case 7:return Ce(t,e,e.pendingProps,n),e.child;case 8:return Ce(t,e,e.pendingProps.children,n),e.child;case 12:return Ce(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,j(ms,r._currentValue),r._currentValue=o,s!==null)if(it(s.value,o)){if(s.children===i.children&&!Pe.current){e=St(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=gt(-1,n&-n),u.tag=2;var a=s.updateQueue;if(a!==null){a=a.shared;var d=a.pending;d===null?u.next=u:(u.next=d.next,d.next=u),a.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Il(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(v(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Il(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ce(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Vn(e,n),i=be(i),r=r(i),e.flags|=1,Ce(t,e,r,n),e.child;case 14:return r=e.type,i=qe(r,e.pendingProps),i=qe(r.type,i),Ic(t,e,r,i,n);case 15:return Sh(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qe(r,i),Ji(t,e),e.tag=1,De(r)?(t=!0,fs(e)):t=!1,Vn(e,n),qf(e,r,i),Rl(e,r,i,n),Dl(null,e,r,!0,t,n);case 19:return Ih(t,e,n);case 22:return Eh(t,e,n)}throw Error(v(156,e.tag))};function Hh(t,e){return pf(t,e)}function Q_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function He(t,e,n,r){return new Q_(t,e,n,r)}function Zu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function K_(t){if(typeof t=="function")return Zu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yu)return 11;if(t===vu)return 14}return 2}function jt(t,e){var n=t.alternate;return n===null?(n=He(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ts(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Zu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Rn:return cn(n.children,i,s,e);case _u:o=8,i|=8;break;case Jo:return t=He(12,n,e,i|2),t.elementType=Jo,t.lanes=s,t;case Zo:return t=He(13,n,e,i),t.elementType=Zo,t.lanes=s,t;case el:return t=He(19,n,e,i),t.elementType=el,t.lanes=s,t;case qd:return Ys(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Kd:o=10;break e;case Yd:o=9;break e;case yu:o=11;break e;case vu:o=14;break e;case Nt:o=16,r=null;break e}throw Error(v(130,t==null?t:typeof t,""))}return e=He(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function cn(t,e,n,r){return t=He(7,t,r,e),t.lanes=n,t}function Ys(t,e,n,r){return t=He(22,t,r,e),t.elementType=qd,t.lanes=n,t.stateNode={isHidden:!1},t}function Fo(t,e,n){return t=He(6,t,null,e),t.lanes=n,t}function zo(t,e,n){return e=He(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Y_(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_o(0),this.expirationTimes=_o(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_o(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ea(t,e,n,r,i,s,o,l,u){return t=new Y_(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=He(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zu(s),t}function q_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function $h(t){if(!t)return Gt;t=t._reactInternals;e:{if(En(t)!==t||t.tag!==1)throw Error(v(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(De(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(v(171))}if(t.tag===1){var n=t.type;if(De(n))return Hf(t,n,e)}return e}function Vh(t,e,n,r,i,s,o,l,u){return t=ea(n,r,!0,t,i,s,o,l,u),t.context=$h(null),n=t.current,r=ke(),i=Wt(n),s=gt(r,i),s.callback=e??null,Ut(n,s,i),t.current.lanes=i,hi(t,i,r),Ae(t,r),t}function qs(t,e,n,r){var i=e.current,s=ke(),o=Wt(i);return n=$h(n),e.context===null?e.context=n:e.pendingContext=n,e=gt(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ut(i,e,o),t!==null&&(nt(t,i,o,s),Yi(t,i,o)),o}function Ts(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Uc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ta(t,e){Uc(t,e),(t=t.alternate)&&Uc(t,e)}function X_(){return null}var bh=typeof reportError=="function"?reportError:function(t){console.error(t)};function na(t){this._internalRoot=t}Xs.prototype.render=na.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(v(409));qs(t,e,null,null)};Xs.prototype.unmount=na.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gn(function(){qs(null,t,null,null)}),e[vt]=null}};function Xs(t){this._internalRoot=t}Xs.prototype.unstable_scheduleHydration=function(t){if(t){var e=Sf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xt.length&&e!==0&&e<xt[n].priority;n++);xt.splice(n,0,t),n===0&&Cf(t)}};function ra(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Js(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Bc(){}function J_(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var a=Ts(o);s.call(a)}}var o=Vh(e,r,t,0,null,!1,!1,"",Bc);return t._reactRootContainer=o,t[vt]=o.current,Jr(t.nodeType===8?t.parentNode:t),gn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var a=Ts(u);l.call(a)}}var u=ea(t,0,!1,null,null,!1,!1,"",Bc);return t._reactRootContainer=u,t[vt]=u.current,Jr(t.nodeType===8?t.parentNode:t),gn(function(){qs(e,u,n,r)}),u}function Zs(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=Ts(o);l.call(u)}}qs(e,o,t,i)}else o=J_(n,e,t,i,r);return Ts(o)}vf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Pr(e.pendingLanes);n!==0&&(Eu(e,n|1),Ae(e,te()),!(F&6)&&(nr=te()+500,qt()))}break;case 13:gn(function(){var r=wt(t,1);if(r!==null){var i=ke();nt(r,t,1,i)}}),ta(t,1)}};Cu=function(t){if(t.tag===13){var e=wt(t,134217728);if(e!==null){var n=ke();nt(e,t,134217728,n)}ta(t,134217728)}};wf=function(t){if(t.tag===13){var e=Wt(t),n=wt(t,e);if(n!==null){var r=ke();nt(n,t,e,r)}ta(t,e)}};Sf=function(){return U};Ef=function(t,e){var n=U;try{return U=t,e()}finally{U=n}};cl=function(t,e,n){switch(e){case"input":if(rl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=$s(r);if(!i)throw Error(v(90));Jd(r),rl(r,i)}}}break;case"textarea":ef(t,n);break;case"select":e=n.value,e!=null&&Wn(t,!!n.multiple,e,!1)}};uf=qu;af=gn;var Z_={usingClientEntryPoint:!1,Events:[mi,An,$s,of,lf,qu]},Cr={findFiberByHostInstance:rn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ey={bundleType:Cr.bundleType,version:Cr.version,rendererPackageName:Cr.rendererPackageName,rendererConfig:Cr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ff(t),t===null?null:t.stateNode},findFiberByHostInstance:Cr.findFiberByHostInstance||X_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wi.isDisabled&&Wi.supportsFiber)try{Bs=Wi.inject(ey),at=Wi}catch{}}Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z_;Ue.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ra(e))throw Error(v(200));return q_(t,e,null,n)};Ue.createRoot=function(t,e){if(!ra(t))throw Error(v(299));var n=!1,r="",i=bh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ea(t,1,!1,null,null,n,!1,r,i),t[vt]=e.current,Jr(t.nodeType===8?t.parentNode:t),new na(e)};Ue.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(v(188)):(t=Object.keys(t).join(","),Error(v(268,t)));return t=ff(e),t=t===null?null:t.stateNode,t};Ue.flushSync=function(t){return gn(t)};Ue.hydrate=function(t,e,n){if(!Js(e))throw Error(v(200));return Zs(null,t,e,!0,n)};Ue.hydrateRoot=function(t,e,n){if(!ra(t))throw Error(v(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=bh;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Vh(e,null,t,1,n??null,i,!1,s,o),t[vt]=e.current,Jr(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Xs(e)};Ue.render=function(t,e,n){if(!Js(e))throw Error(v(200));return Zs(null,t,e,!1,n)};Ue.unmountComponentAtNode=function(t){if(!Js(t))throw Error(v(40));return t._reactRootContainer?(gn(function(){Zs(null,null,t,!1,function(){t._reactRootContainer=null,t[vt]=null})}),!0):!1};Ue.unstable_batchedUpdates=qu;Ue.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Js(n))throw Error(v(200));if(t==null||t._reactInternals===void 0)throw Error(v(38));return Zs(t,e,n,!1,r)};Ue.version="18.2.0-next-9e3b772b8-20220608";function Gh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gh)}catch(t){console.error(t)}}Gh(),$d.exports=Ue;var ty=$d.exports,Wc=ty;qo.createRoot=Wc.createRoot,qo.hydrateRoot=Wc.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S=function(t,e){if(!t)throw ar(e)},ar=function(t){return new Error("Firebase Database ("+Qh.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ny=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ia={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,a=u?t[i+2]:0,d=s>>2,c=(s&3)<<4|l>>4;let f=(l&15)<<2|a>>6,g=a&63;u||(g=64,o||(f=64)),r.push(n[d],n[c],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Kh(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ny(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const a=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||a==null||c==null)throw new ry;const f=s<<2|l>>4;if(r.push(f),a!==64){const g=l<<4&240|a>>2;if(r.push(g),c!==64){const _=a<<6&192|c;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ry extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yh=function(t){const e=Kh(t);return ia.encodeByteArray(e,!0)},Is=function(t){return Yh(t).replace(/\./g,"")},$l=function(t){try{return ia.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(t){return qh(void 0,t)}function qh(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!sy(n)||(t[n]=qh(t[n],e[n]));return t}function sy(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=()=>oy().__FIREBASE_DEFAULTS__,uy=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ay=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$l(t[1]);return e&&JSON.parse(e)},Xh=()=>{try{return ly()||uy()||ay()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cy=t=>{var e,n;return(n=(e=Xh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},dy=t=>{const e=cy(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Jh=()=>{var t;return(t=Xh())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[Is(JSON.stringify(n)),Is(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hy())}function py(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ep(){return Qh.NODE_ADMIN===!0}function my(){try{return typeof indexedDB=="object"}catch{return!1}}function gy(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="FirebaseError";class _i extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_y,Object.setPrototypeOf(this,_i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tp.prototype.create)}}class tp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?yy(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new _i(i,l,r)}}function yy(t,e){return t.replace(vy,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const vy=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(t){return JSON.parse(t)}function pe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=li($l(s[0])||""),n=li($l(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},wy=function(t){const e=np(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Sy=function(t){const e=np(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function rr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function jc(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ns(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Vl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Hc(s)&&Hc(o)){if(!Vl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Hc(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let c=0;c<16;c++)r[c]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)r[c]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let c=16;c<80;c++){const f=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],u=this.chain_[4],a,d;for(let c=0;c<80;c++){c<40?c<20?(a=l^s&(o^l),d=1518500249):(a=s^o^l,d=1859775393):c<60?(a=s&o|l&(s|o),d=2400959708):(a=s^o^l,d=3395469782);const f=(i<<5|i>>>27)+a+u+d+r[c]&4294967295;u=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function sa(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,S(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},to=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(t){return t&&t._delegate?t._delegate:t}class ui{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new eo;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ny(e))try{this.getOrInitializeService({instanceIdentifier:tn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=tn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=tn){return this.instances.has(e)}getOptions(e=tn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Iy(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=tn){return this.component?this.component.multipleInstances?e:tn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Iy(t){return t===tn?void 0:t}function Ny(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ty(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(W||(W={}));const xy={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},Py=W.INFO,Dy={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},Ay=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Dy[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rp{constructor(e){this.name=e,this._logLevel=Py,this._logHandler=Ay,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in W))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xy[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...e),this._logHandler(this,W.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...e),this._logHandler(this,W.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,W.INFO,...e),this._logHandler(this,W.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,W.WARN,...e),this._logHandler(this,W.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...e),this._logHandler(this,W.ERROR,...e)}}const Oy=(t,e)=>e.some(n=>t instanceof n);let $c,Vc;function My(){return $c||($c=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ly(){return Vc||(Vc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ip=new WeakMap,bl=new WeakMap,sp=new WeakMap,Uo=new WeakMap,oa=new WeakMap;function Fy(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ht(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ip.set(n,t)}).catch(()=>{}),oa.set(e,t),e}function zy(t){if(bl.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});bl.set(t,e)}let Gl={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bl.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sp.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ht(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Uy(t){Gl=t(Gl)}function By(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Bo(this),e,...n);return sp.set(r,e.sort?e.sort():[e]),Ht(r)}:Ly().includes(t)?function(...e){return t.apply(Bo(this),e),Ht(ip.get(this))}:function(...e){return Ht(t.apply(Bo(this),e))}}function Wy(t){return typeof t=="function"?By(t):(t instanceof IDBTransaction&&zy(t),Oy(t,My())?new Proxy(t,Gl):t)}function Ht(t){if(t instanceof IDBRequest)return Fy(t);if(Uo.has(t))return Uo.get(t);const e=Wy(t);return e!==t&&(Uo.set(t,e),oa.set(e,t)),e}const Bo=t=>oa.get(t);function jy(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Ht(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ht(o.result),u.oldVersion,u.newVersion,Ht(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",a=>i(a.oldVersion,a.newVersion,a))}).catch(()=>{}),l}const Hy=["get","getKey","getAll","getAllKeys","count"],$y=["put","add","delete","clear"],Wo=new Map;function bc(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wo.get(e))return Wo.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$y.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Hy.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let a=u.store;return r&&(a=a.index(l.shift())),(await Promise.all([a[n](...l),i&&u.done]))[0]};return Wo.set(e,s),s}Uy(t=>({...t,get:(e,n,r)=>bc(e,n)||t.get(e,n,r),has:(e,n)=>!!bc(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(by(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function by(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ql="@firebase/app",Gc="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n=new rp("@firebase/app"),Gy="@firebase/app-compat",Qy="@firebase/analytics-compat",Ky="@firebase/analytics",Yy="@firebase/app-check-compat",qy="@firebase/app-check",Xy="@firebase/auth",Jy="@firebase/auth-compat",Zy="@firebase/database",ev="@firebase/database-compat",tv="@firebase/functions",nv="@firebase/functions-compat",rv="@firebase/installations",iv="@firebase/installations-compat",sv="@firebase/messaging",ov="@firebase/messaging-compat",lv="@firebase/performance",uv="@firebase/performance-compat",av="@firebase/remote-config",cv="@firebase/remote-config-compat",dv="@firebase/storage",fv="@firebase/storage-compat",hv="@firebase/firestore",pv="@firebase/firestore-compat",mv="firebase",gv="10.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl="[DEFAULT]",_v={[Ql]:"fire-core",[Gy]:"fire-core-compat",[Ky]:"fire-analytics",[Qy]:"fire-analytics-compat",[qy]:"fire-app-check",[Yy]:"fire-app-check-compat",[Xy]:"fire-auth",[Jy]:"fire-auth-compat",[Zy]:"fire-rtdb",[ev]:"fire-rtdb-compat",[tv]:"fire-fn",[nv]:"fire-fn-compat",[rv]:"fire-iid",[iv]:"fire-iid-compat",[sv]:"fire-fcm",[ov]:"fire-fcm-compat",[lv]:"fire-perf",[uv]:"fire-perf-compat",[av]:"fire-rc",[cv]:"fire-rc-compat",[dv]:"fire-gcs",[fv]:"fire-gcs-compat",[hv]:"fire-fst",[pv]:"fire-fst-compat","fire-js":"fire-js",[mv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new Map,yv=new Map,Yl=new Map;function Qc(t,e){try{t.container.addComponent(e)}catch(n){_n.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xs(t){const e=t.name;if(Yl.has(e))return _n.debug(`There were multiple attempts to register component ${e}.`),!1;Yl.set(e,t);for(const n of Rs.values())Qc(n,t);for(const n of yv.values())Qc(n,t);return!0}function vv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$t=new tp("app","Firebase",wv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $t.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=gv;function op(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Kl,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw $t.create("bad-app-name",{appName:String(i)});if(n||(n=Jh()),!n)throw $t.create("no-options");const s=Rs.get(i);if(s){if(Vl(n,s.options)&&Vl(r,s.config))return s;throw $t.create("duplicate-app",{appName:i})}const o=new Ry(i);for(const u of Yl.values())o.addComponent(u);const l=new Sv(n,r,o);return Rs.set(i,l),l}function Cv(t=Kl){const e=Rs.get(t);if(!e&&t===Kl&&Jh())return op();if(!e)throw $t.create("no-app",{appName:t});return e}function Gn(t,e,n){var r;let i=(r=_v[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_n.warn(l.join(" "));return}xs(new ui(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="firebase-heartbeat-database",Tv=1,ai="firebase-heartbeat-store";let jo=null;function lp(){return jo||(jo=jy(kv,Tv,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ai)}catch(n){console.warn(n)}}}}).catch(t=>{throw $t.create("idb-open",{originalErrorMessage:t.message})})),jo}async function Iv(t){try{const n=(await lp()).transaction(ai),r=await n.objectStore(ai).get(up(t));return await n.done,r}catch(e){if(e instanceof _i)_n.warn(e.message);else{const n=$t.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_n.warn(n.message)}}}async function Kc(t,e){try{const r=(await lp()).transaction(ai,"readwrite");await r.objectStore(ai).put(e,up(t)),await r.done}catch(n){if(n instanceof _i)_n.warn(n.message);else{const r=$t.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_n.warn(r.message)}}}function up(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=1024,Rv=30*24*60*60*1e3;class xv{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Dv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Yc();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=Rv}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Yc(),{heartbeatsToSend:r,unsentEntries:i}=Pv(this._heartbeatsCache.heartbeats),s=Is(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Yc(){return new Date().toISOString().substring(0,10)}function Pv(t,e=Nv){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),qc(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),qc(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Dv{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return my()?gy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Iv(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Kc(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Kc(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function qc(t){return Is(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(t){xs(new ui("platform-logger",e=>new Vy(e),"PRIVATE")),xs(new ui("heartbeat",e=>new xv(e),"PRIVATE")),Gn(Ql,Gc,t),Gn(Ql,Gc,"esm2017"),Gn("fire-js","")}Av("");const Xc="@firebase/database",Jc="1.0.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ap="";function Ov(t){ap=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),pe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:li(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Tt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Mv(e)}}catch{}return new Lv},ln=cp("localStorage"),ql=cp("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn=new rp("@firebase/database"),Fv=function(){let t=1;return function(){return t++}}(),dp=function(t){const e=ky(t),n=new Cy;n.update(e);const r=n.digest();return ia.encodeByteArray(r)},yi=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=yi.apply(null,r):typeof r=="object"?e+=pe(r):e+=r,e+=" "}return e};let dn=null,Zc=!0;const zv=function(t,e){S(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Qn.logLevel=W.VERBOSE,dn=Qn.log.bind(Qn),e&&ql.set("logging_enabled",!0)):typeof t=="function"?dn=t:(dn=null,ql.remove("logging_enabled"))},we=function(...t){if(Zc===!0&&(Zc=!1,dn===null&&ql.get("logging_enabled")===!0&&zv(!0)),dn){const e=yi.apply(null,t);dn(e)}},vi=function(t){return function(...e){we(t,...e)}},Xl=function(...t){const e="FIREBASE INTERNAL ERROR: "+yi(...t);Qn.error(e)},Et=function(...t){const e=`FIREBASE FATAL ERROR: ${yi(...t)}`;throw Qn.error(e),new Error(e)},Oe=function(...t){const e="FIREBASE WARNING: "+yi(...t);Qn.warn(e)},Uv=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Oe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},fp=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Bv=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ir="[MIN_NAME]",yn="[MAX_NAME]",dr=function(t,e){if(t===e)return 0;if(t===ir||e===yn)return-1;if(e===ir||t===yn)return 1;{const n=ed(t),r=ed(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Wv=function(t,e){return t===e?0:t<e?-1:1},kr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+pe(e))},la=function(t){if(typeof t!="object"||t===null)return pe(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=pe(e[r]),n+=":",n+=la(t[e[r]]);return n+="}",n},hp=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Qe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const pp=function(t){S(!fp(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,u;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const a=[];for(u=n;u;u-=1)a.push(o%2?1:0),o=Math.floor(o/2);for(u=e;u;u-=1)a.push(s%2?1:0),s=Math.floor(s/2);a.push(i?1:0),a.reverse();const d=a.join("");let c="";for(u=0;u<64;u+=8){let f=parseInt(d.substr(u,8),2).toString(16);f.length===1&&(f="0"+f),c=c+f}return c.toLowerCase()},jv=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Hv=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},$v=new RegExp("^-?(0*)\\d{1,10}$"),Vv=-2147483648,bv=2147483647,ed=function(t){if($v.test(t)){const e=Number(t);if(e>=Vv&&e<=bv)return e}return null},fr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Oe("Exception was thrown by user callback.",n),e},Math.floor(0))}},Gv=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},jr=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Oe(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(we("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Oe(e)}}class Kn{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Kn.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="5",mp="v",gp="s",_p="r",yp="f",vp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wp="ls",Sp="p",Jl="ac",Ep="websocket",Cp="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,n,r,i,s=!1,o="",l=!1,u=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ln.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ln.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Yv(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Tp(t,e,n){S(typeof e=="string","typeof type must == string"),S(typeof n=="object","typeof params must == object");let r;if(e===Ep)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Cp)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Yv(t)&&(n.ns=t.namespace);const i=[];return Qe(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(){this.counters_={}}incrementCounter(e,n=1){Tt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return iy(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho={},$o={};function aa(t){const e=t.toString();return Ho[e]||(Ho[e]=new qv),Ho[e]}function Xv(t,e){const n=t.toString();return $o[n]||($o[n]=e()),$o[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&fr(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td="start",Zv="close",e0="pLPCommand",t0="pRTLPCB",Ip="id",Np="pw",Rp="ser",n0="cb",r0="seg",i0="ts",s0="d",o0="dframe",xp=1870,Pp=30,l0=xp-Pp,u0=25e3,a0=3e4;class Bn{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=vi(e),this.stats_=aa(n),this.urlFn=u=>(this.appCheckToken&&(u[Jl]=this.appCheckToken),Tp(n,Cp,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Jv(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(a0)),Bv(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ca((...s)=>{const[o,l,u,a,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===td)this.id=l,this.password=u;else if(o===Zv)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[td]="t",r[Rp]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[n0]=this.scriptTagHolder.uniqueCallbackIdentifier),r[mp]=ua,this.transportSessionId&&(r[gp]=this.transportSessionId),this.lastSessionId&&(r[wp]=this.lastSessionId),this.applicationId&&(r[Sp]=this.applicationId),this.appCheckToken&&(r[Jl]=this.appCheckToken),typeof location<"u"&&location.hostname&&vp.test(location.hostname)&&(r[_p]=yp);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Bn.forceAllow_=!0}static forceDisallow(){Bn.forceDisallow_=!0}static isAvailable(){return Bn.forceAllow_?!0:!Bn.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!jv()&&!Hv()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=pe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Yh(n),i=hp(r,l0);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[o0]="t",r[Ip]=e,r[Np]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=pe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class ca{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Fv(),window[e0+this.uniqueCallbackIdentifier]=e,window[t0+this.uniqueCallbackIdentifier]=n,this.myIFrame=ca.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){we("frame writing exception"),l.stack&&we(l.stack),we(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||we("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Ip]=this.myID,e[Np]=this.myPW,e[Rp]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Pp+r.length<=xp;){const o=this.pendingSegs.shift();r=r+"&"+r0+i+"="+o.seg+"&"+i0+i+"="+o.ts+"&"+s0+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(u0)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{we("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=16384,d0=45e3;let Ps=null;typeof MozWebSocket<"u"?Ps=MozWebSocket:typeof WebSocket<"u"&&(Ps=WebSocket);class Ze{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=vi(this.connId),this.stats_=aa(n),this.connURL=Ze.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[mp]=ua,typeof location<"u"&&location.hostname&&vp.test(location.hostname)&&(o[_p]=yp),n&&(o[gp]=n),r&&(o[wp]=r),i&&(o[Jl]=i),s&&(o[Sp]=s),Tp(e,Ep,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ln.set("previous_websocket_failure",!0);try{let r;ep(),this.mySock=new Ps(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Ze.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Ps!==null&&!Ze.forceDisallow_}static previouslyFailed(){return ln.isInMemoryStorage||ln.get("previous_websocket_failure")===!0}markConnectionHealthy(){ln.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=li(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(S(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=pe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=hp(n,c0);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(d0))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ze.responsesRequiredToBeHealthy=2;Ze.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Bn,Ze]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Ze&&Ze.isAvailable();let r=n&&!Ze.previouslyFailed();if(e.webSocketOnly&&(n||Oe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ze];else{const i=this.transports_=[];for(const s of ci.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);ci.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ci.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=6e4,h0=5e3,p0=10*1024,m0=100*1024,Vo="t",nd="d",g0="s",rd="r",_0="e",id="o",sd="a",od="n",ld="p",y0="h";class v0{constructor(e,n,r,i,s,o,l,u,a,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=u,this.onKill_=a,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=vi("c:"+this.id+":"),this.transportManager_=new ci(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=jr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>m0?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>p0?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Vo in e){const n=e[Vo];n===sd?this.upgradeIfSecondaryHealthy_():n===rd?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===id&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=kr("t",e),r=kr("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ld,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:sd,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:od,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=kr("t",e),r=kr("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=kr(Vo,e);if(nd in e){const r=e[nd];if(n===y0){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===od){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===g0?this.onConnectionShutdown_(r):n===rd?this.onReset_(r):n===_0?Xl("Server Error: "+r):n===id?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Xl("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ua!==r&&Oe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),jr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(f0))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):jr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(h0))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ld,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ln.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e){this.allowedEvents_=e,this.listeners_={},S(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){S(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Ap{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Zh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ds}getInitialEvent(e){return S(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=32,ad=768;class G{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function B(){return new G("")}function D(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Qt(t){return t.pieces_.length-t.pieceNum_}function V(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new G(t.pieces_,e)}function Op(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function w0(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Mp(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Lp(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new G(e,0)}function ie(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof G)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new G(n,0)}function M(t){return t.pieceNum_>=t.pieces_.length}function $e(t,e){const n=D(t),r=D(e);if(n===null)return e;if(n===r)return $e(V(t),V(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Fp(t,e){if(Qt(t)!==Qt(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function et(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Qt(t)>Qt(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class S0{constructor(e,n){this.errorPrefix_=n,this.parts_=Mp(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=to(this.parts_[r]);zp(this)}}function E0(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=to(e),zp(t)}function C0(t){const e=t.parts_.pop();t.byteLength_-=to(e),t.parts_.length>0&&(t.byteLength_-=1)}function zp(t){if(t.byteLength_>ad)throw new Error(t.errorPrefix_+"has a key path longer than "+ad+" bytes ("+t.byteLength_+").");if(t.parts_.length>ud)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ud+") or object contains a cycle "+nn(t))}function nn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da extends Ap{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new da}getInitialEvent(e){return S(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=1e3,k0=60*5*1e3,cd=30*1e3,T0=1.3,I0=3e4,N0="server_kill",dd=3;class _t extends Dp{constructor(e,n,r,i,s,o,l,u){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=_t.nextPersistentConnectionId_++,this.log_=vi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Tr,this.maxReconnectDelay_=k0,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!ep())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");da.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ds.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(pe(s)),S(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new eo,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),S(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),S(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const u=l.d,a=l.s;_t.warnOnListenWarnings_(u,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),a!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(a,u))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Tt(e,"w")){const r=rr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Oe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Sy(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=cd)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=wy(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),S(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+pe(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Xl("Unrecognized action received from server: "+pe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){S(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Tr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Tr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>I0&&(this.reconnectDelay_=Tr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*T0)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+_t.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const u=function(){l?l.close():(o=!0,r())},a=function(c){S(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(c)};this.realtime_={close:u,sendRequest:a};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?we("getToken() completed but was canceled"):(we("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=f&&f.token,l=new v0(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,g=>{Oe(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(N0)},s))}catch(c){this.log_("Failed to get token: "+c),o||(this.repoInfo_.nodeAdmin&&Oe(c),u())}}}interrupt(e){we("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){we("Resuming connection for reason: "+e),delete this.interruptReasons_[e],jc(this.interruptReasons_)&&(this.reconnectDelay_=Tr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>la(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new G(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){we("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=dd&&(this.reconnectDelay_=cd,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){we("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=dd&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+ap.replace(/\./g,"-")]=1,Zh()?e["framework.cordova"]=1:py()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ds.getInstance().currentlyOnline();return jc(this.interruptReasons_)&&e}}_t.nextPersistentConnectionId_=0;_t.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new L(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new L(ir,e),i=new L(ir,n);return this.compare(r,i)!==0}minPost(){return L.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ji;class Up extends no{static get __EMPTY_NODE(){return ji}static set __EMPTY_NODE(e){ji=e}compare(e,n){return dr(e.name,n.name)}isDefinedOn(e){throw ar("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return L.MIN}maxPost(){return new L(yn,ji)}makePost(e,n){return S(typeof e=="string","KeyIndex indexValue must always be a string."),new L(e,ji)}toString(){return".key"}}const Yn=new Up;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ae{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ae.RED,this.left=i??xe.EMPTY_NODE,this.right=s??xe.EMPTY_NODE}copy(e,n,r,i,s){return new ae(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return xe.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return xe.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ae.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ae.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ae.RED=!0;ae.BLACK=!1;class R0{copy(e,n,r,i,s){return this}insert(e,n,r){return new ae(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class xe{constructor(e,n=xe.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new xe(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ae.BLACK,null,null))}remove(e){return new xe(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ae.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Hi(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Hi(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Hi(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Hi(this.root_,null,this.comparator_,!0,e)}}xe.EMPTY_NODE=new R0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(t,e){return dr(t.name,e.name)}function fa(t,e){return dr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zl;function P0(t){Zl=t}const Bp=function(t){return typeof t=="number"?"number:"+pp(t):"string:"+t},Wp=function(t){if(t.isLeafNode()){const e=t.val();S(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Tt(e,".sv"),"Priority must be a string or number.")}else S(t===Zl||t.isEmpty(),"priority of unexpected type.");S(t===Zl||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fd;class le{constructor(e,n=le.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,S(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Wp(this.priorityNode_)}static set __childrenNodeConstructor(e){fd=e}static get __childrenNodeConstructor(){return fd}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new le(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:le.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return M(e)?this:D(e)===".priority"?this.priorityNode_:le.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:le.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=D(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(S(r!==".priority"||Qt(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,le.__childrenNodeConstructor.EMPTY_NODE.updateChild(V(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Bp(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=pp(this.value_):e+=this.value_,this.lazyHash_=dp(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===le.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof le.__childrenNodeConstructor?-1:(S(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=le.VALUE_TYPE_ORDER.indexOf(n),s=le.VALUE_TYPE_ORDER.indexOf(r);return S(i>=0,"Unknown leaf type: "+n),S(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}le.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jp,Hp;function D0(t){jp=t}function A0(t){Hp=t}class O0 extends no{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?dr(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return L.MIN}maxPost(){return new L(yn,new le("[PRIORITY-POST]",Hp))}makePost(e,n){const r=jp(e);return new L(n,new le("[PRIORITY-POST]",r))}toString(){return".priority"}}const Se=new O0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=Math.log(2);class L0{constructor(e){const n=s=>parseInt(Math.log(s)/M0,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const As=function(t,e,n,r){t.sort(e);const i=function(u,a){const d=a-u;let c,f;if(d===0)return null;if(d===1)return c=t[u],f=n?n(c):c,new ae(f,c.node,ae.BLACK,null,null);{const g=parseInt(d/2,10)+u,_=i(u,g),w=i(g+1,a);return c=t[g],f=n?n(c):c,new ae(f,c.node,ae.BLACK,_,w)}},s=function(u){let a=null,d=null,c=t.length;const f=function(_,w){const P=c-_,p=c;c-=_;const h=i(P+1,p),m=t[P],y=n?n(m):m;g(new ae(y,m.node,w,null,h))},g=function(_){a?(a.left=_,a=_):(d=_,a=_)};for(let _=0;_<u.count;++_){const w=u.nextBitIsOne(),P=Math.pow(2,u.count-(_+1));w?f(P,ae.BLACK):(f(P,ae.BLACK),f(P,ae.RED))}return d},o=new L0(t.length),l=s(o);return new xe(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo;const In={};class mt{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return S(In&&Se,"ChildrenNode.ts has not been loaded"),bo=bo||new mt({".priority":In},{".priority":Se}),bo}get(e){const n=rr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof xe?n:null}hasIndex(e){return Tt(this.indexSet_,e.toString())}addIndex(e,n){S(e!==Yn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(L.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=As(r,e.getCompare()):l=In;const u=e.toString(),a=Object.assign({},this.indexSet_);a[u]=e;const d=Object.assign({},this.indexes_);return d[u]=l,new mt(d,a)}addToIndexes(e,n){const r=Ns(this.indexes_,(i,s)=>{const o=rr(this.indexSet_,s);if(S(o,"Missing index implementation for "+s),i===In)if(o.isDefinedOn(e.node)){const l=[],u=n.getIterator(L.Wrap);let a=u.getNext();for(;a;)a.name!==e.name&&l.push(a),a=u.getNext();return l.push(e),As(l,o.getCompare())}else return In;else{const l=n.get(e.name);let u=i;return l&&(u=u.remove(new L(e.name,l))),u.insert(e,e.node)}});return new mt(r,this.indexSet_)}removeFromIndexes(e,n){const r=Ns(this.indexes_,i=>{if(i===In)return i;{const s=n.get(e.name);return s?i.remove(new L(e.name,s)):i}});return new mt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ir;class z{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Wp(this.priorityNode_),this.children_.isEmpty()&&S(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ir||(Ir=new z(new xe(fa),null,mt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ir}updatePriority(e){return this.children_.isEmpty()?this:new z(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ir:n}}getChild(e){const n=D(e);return n===null?this:this.getImmediateChild(n).getChild(V(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(S(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new L(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Ir:this.priorityNode_;return new z(i,o,s)}}updateChild(e,n){const r=D(e);if(r===null)return n;{S(D(e)!==".priority"||Qt(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(V(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Se,(o,l)=>{n[o]=l.val(e),r++,s&&z.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Bp(this.getPriority().val())+":"),this.forEachChild(Se,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":dp(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new L(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new L(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new L(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,L.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,L.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===wi?-1:0}withIndex(e){if(e===Yn||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new z(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Yn||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Se),i=n.getIterator(Se);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Yn?null:this.indexMap_.get(e.toString())}}z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class F0 extends z{constructor(){super(new xe(fa),z.EMPTY_NODE,mt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return z.EMPTY_NODE}isEmpty(){return!1}}const wi=new F0;Object.defineProperties(L,{MIN:{value:new L(ir,z.EMPTY_NODE)},MAX:{value:new L(yn,wi)}});Up.__EMPTY_NODE=z.EMPTY_NODE;le.__childrenNodeConstructor=z;P0(wi);A0(wi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=!0;function he(t,e=null){if(t===null)return z.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),S(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new le(n,he(e))}if(!(t instanceof Array)&&z0){const n=[];let r=!1;if(Qe(t,(o,l)=>{if(o.substring(0,1)!=="."){const u=he(l);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new L(o,u)))}}),n.length===0)return z.EMPTY_NODE;const s=As(n,x0,o=>o.name,fa);if(r){const o=As(n,Se.getCompare());return new z(s,he(e),new mt({".priority":o},{".priority":Se}))}else return new z(s,he(e),mt.Default)}else{let n=z.EMPTY_NODE;return Qe(t,(r,i)=>{if(Tt(t,r)&&r.substring(0,1)!=="."){const s=he(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(he(e))}}D0(he);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0 extends no{constructor(e){super(),this.indexPath_=e,S(!M(e)&&D(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?dr(e.name,n.name):s}makePost(e,n){const r=he(e),i=z.EMPTY_NODE.updateChild(this.indexPath_,r);return new L(n,i)}maxPost(){const e=z.EMPTY_NODE.updateChild(this.indexPath_,wi);return new L(yn,e)}toString(){return Mp(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0 extends no{compare(e,n){const r=e.node.compareTo(n.node);return r===0?dr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return L.MIN}maxPost(){return L.MAX}makePost(e,n){const r=he(e);return new L(n,r)}toString(){return".value"}}const W0=new B0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(t){return{type:"value",snapshotNode:t}}function H0(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function $0(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function hd(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function V0(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Se}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return S(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return S(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ir}hasEnd(){return this.endSet_}getIndexEndValue(){return S(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return S(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:yn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return S(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Se}copy(){const e=new ha;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function pd(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Se?n="$priority":t.index_===W0?n="$value":t.index_===Yn?n="$key":(S(t.index_ instanceof U0,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=pe(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=pe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+pe(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=pe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+pe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function md(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Se&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Dp{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=vi("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(S(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Os.getListenId_(e,r),l={};this.listens_[o]=l;const u=pd(e._queryParams);this.restRequest_(s+".json",u,(a,d)=>{let c=d;if(a===404&&(c=null,a=null),a===null&&this.onDataUpdate_(s,c,!1,r),rr(this.listens_,o)===l){let f;a?a===401?f="permission_denied":f="rest_error:"+a:f="ok",i(f,null)}})}unlisten(e,n){const r=Os.getListenId_(e,n);delete this.listens_[r]}get(e){const n=pd(e._queryParams),r=e._path.toString(),i=new eo;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ey(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let u=null;if(l.status>=200&&l.status<300){try{u=li(l.responseText)}catch{Oe("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,u)}else l.status!==401&&l.status!==404&&Oe("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(){this.rootNode_=z.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(){return{value:null,children:new Map}}function $p(t,e,n){if(M(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=D(e);t.children.has(r)||t.children.set(r,Ms());const i=t.children.get(r);e=V(e),$p(i,e,n)}}function eu(t,e,n){t.value!==null?n(e,t.value):G0(t,(r,i)=>{const s=new G(e.toString()+"/"+r);eu(i,s,n)})}function G0(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Qe(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=10*1e3,K0=30*1e3,Y0=5*60*1e3;class q0{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Q0(e);const r=gd+(K0-gd)*Math.random();jr(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Qe(e,(i,s)=>{s>0&&Tt(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),jr(this.reportStats_.bind(this),Math.floor(Math.random()*2*Y0))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ut||(ut={}));function Vp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function bp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Gp(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=ut.ACK_USER_WRITE,this.source=Vp()}operationForChild(e){if(M(this.path)){if(this.affectedTree.value!=null)return S(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new G(e));return new Ls(B(),n,this.revert)}}else return S(D(this.path)===e,"operationForChild called for unrelated child."),new Ls(V(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=ut.OVERWRITE}operationForChild(e){return M(this.path)?new vn(this.source,B(),this.snap.getImmediateChild(e)):new vn(this.source,V(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=ut.MERGE}operationForChild(e){if(M(this.path)){const n=this.children.subtree(new G(e));return n.isEmpty()?null:n.value?new vn(this.source,B(),n.value):new di(this.source,B(),n)}else return S(D(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new di(this.source,V(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(M(e))return this.isFullyInitialized()&&!this.filtered_;const n=D(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function X0(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(V0(o.childName,o.snapshotNode))}),Nr(t,i,"child_removed",e,r,n),Nr(t,i,"child_added",e,r,n),Nr(t,i,"child_moved",s,r,n),Nr(t,i,"child_changed",e,r,n),Nr(t,i,"value",e,r,n),i}function Nr(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,u)=>Z0(t,l,u)),o.forEach(l=>{const u=J0(t,l,s);i.forEach(a=>{a.respondsTo(l.type)&&e.push(a.createEvent(u,t.query_))})})}function J0(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Z0(t,e,n){if(e.childName==null||n.childName==null)throw ar("Should only compare child_ events.");const r=new L(e.childName,e.snapshotNode),i=new L(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(t,e){return{eventCache:t,serverCache:e}}function Hr(t,e,n,r){return Qp(new pa(e,n,r),t.serverCache)}function Kp(t,e,n,r){return Qp(t.eventCache,new pa(e,n,r))}function tu(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function wn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go;const e1=()=>(Go||(Go=new xe(Wv)),Go);class ${constructor(e,n=e1()){this.value=e,this.children=n}static fromObject(e){let n=new $(null);return Qe(e,(r,i)=>{n=n.set(new G(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:B(),value:this.value};if(M(e))return null;{const r=D(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(V(e),n);return s!=null?{path:ie(new G(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(M(e))return this;{const n=D(e),r=this.children.get(n);return r!==null?r.subtree(V(e)):new $(null)}}set(e,n){if(M(e))return new $(n,this.children);{const r=D(e),s=(this.children.get(r)||new $(null)).set(V(e),n),o=this.children.insert(r,s);return new $(this.value,o)}}remove(e){if(M(e))return this.children.isEmpty()?new $(null):new $(null,this.children);{const n=D(e),r=this.children.get(n);if(r){const i=r.remove(V(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new $(null):new $(this.value,s)}else return this}}get(e){if(M(e))return this.value;{const n=D(e),r=this.children.get(n);return r?r.get(V(e)):null}}setTree(e,n){if(M(e))return n;{const r=D(e),s=(this.children.get(r)||new $(null)).setTree(V(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new $(this.value,o)}}fold(e){return this.fold_(B(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ie(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,B(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(M(e))return null;{const s=D(e),o=this.children.get(s);return o?o.findOnPath_(V(e),ie(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,B(),n)}foreachOnPath_(e,n,r){if(M(e))return this;{this.value&&r(n,this.value);const i=D(e),s=this.children.get(i);return s?s.foreachOnPath_(V(e),ie(n,i),r):new $(null)}}foreach(e){this.foreach_(B(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ie(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.writeTree_=e}static empty(){return new rt(new $(null))}}function $r(t,e,n){if(M(e))return new rt(new $(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=$e(i,e);return s=s.updateChild(o,n),new rt(t.writeTree_.set(i,s))}else{const i=new $(n),s=t.writeTree_.setTree(e,i);return new rt(s)}}}function _d(t,e,n){let r=t;return Qe(n,(i,s)=>{r=$r(r,ie(e,i),s)}),r}function yd(t,e){if(M(e))return rt.empty();{const n=t.writeTree_.setTree(e,new $(null));return new rt(n)}}function nu(t,e){return Cn(t,e)!=null}function Cn(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild($e(n.path,e)):null}function vd(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Se,(r,i)=>{e.push(new L(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new L(r,i.value))}),e}function Vt(t,e){if(M(e))return t;{const n=Cn(t,e);return n!=null?new rt(new $(n)):new rt(t.writeTree_.subtree(e))}}function ru(t){return t.writeTree_.isEmpty()}function sr(t,e){return Yp(B(),t.writeTree_,e)}function Yp(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(S(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Yp(ie(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ie(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t,e){return tm(e,t)}function t1(t,e,n,r,i){S(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=$r(t.visibleWrites,e,n)),t.lastWriteId=r}function n1(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function r1(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);S(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&i1(l,r.path)?i=!1:et(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return s1(t),!0;if(r.snap)t.visibleWrites=yd(t.visibleWrites,r.path);else{const l=r.children;Qe(l,u=>{t.visibleWrites=yd(t.visibleWrites,ie(r.path,u))})}return!0}else return!1}function i1(t,e){if(t.snap)return et(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&et(ie(t.path,n),e))return!0;return!1}function s1(t){t.visibleWrites=Xp(t.allWrites,o1,B()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function o1(t){return t.visible}function Xp(t,e,n){let r=rt.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)et(n,o)?(l=$e(n,o),r=$r(r,l,s.snap)):et(o,n)&&(l=$e(o,n),r=$r(r,B(),s.snap.getChild(l)));else if(s.children){if(et(n,o))l=$e(n,o),r=_d(r,l,s.children);else if(et(o,n))if(l=$e(o,n),M(l))r=_d(r,B(),s.children);else{const u=rr(s.children,D(l));if(u){const a=u.getChild(V(l));r=$r(r,B(),a)}}}else throw ar("WriteRecord should have .snap or .children")}}return r}function Jp(t,e,n,r,i){if(!r&&!i){const s=Cn(t.visibleWrites,e);if(s!=null)return s;{const o=Vt(t.visibleWrites,e);if(ru(o))return n;if(n==null&&!nu(o,B()))return null;{const l=n||z.EMPTY_NODE;return sr(o,l)}}}else{const s=Vt(t.visibleWrites,e);if(!i&&ru(s))return n;if(!i&&n==null&&!nu(s,B()))return null;{const o=function(a){return(a.visible||i)&&(!r||!~r.indexOf(a.writeId))&&(et(a.path,e)||et(e,a.path))},l=Xp(t.allWrites,o,e),u=n||z.EMPTY_NODE;return sr(l,u)}}}function l1(t,e,n){let r=z.EMPTY_NODE;const i=Cn(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Se,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Vt(t.visibleWrites,e);return n.forEachChild(Se,(o,l)=>{const u=sr(Vt(s,new G(o)),l);r=r.updateImmediateChild(o,u)}),vd(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Vt(t.visibleWrites,e);return vd(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function u1(t,e,n,r,i){S(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=ie(e,n);if(nu(t.visibleWrites,s))return null;{const o=Vt(t.visibleWrites,s);return ru(o)?i.getChild(n):sr(o,i.getChild(n))}}function a1(t,e,n,r){const i=ie(e,n),s=Cn(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Vt(t.visibleWrites,i);return sr(o,r.getNode().getImmediateChild(n))}else return null}function c1(t,e){return Cn(t.visibleWrites,e)}function d1(t,e,n,r,i,s,o){let l;const u=Vt(t.visibleWrites,e),a=Cn(u,B());if(a!=null)l=a;else if(n!=null)l=sr(u,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const d=[],c=o.getCompare(),f=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let g=f.getNext();for(;g&&d.length<i;)c(g,r)!==0&&d.push(g),g=f.getNext();return d}else return[]}function f1(){return{visibleWrites:rt.empty(),allWrites:[],lastWriteId:-1}}function iu(t,e,n,r){return Jp(t.writeTree,t.treePath,e,n,r)}function Zp(t,e){return l1(t.writeTree,t.treePath,e)}function wd(t,e,n,r){return u1(t.writeTree,t.treePath,e,n,r)}function Fs(t,e){return c1(t.writeTree,ie(t.treePath,e))}function h1(t,e,n,r,i,s){return d1(t.writeTree,t.treePath,e,n,r,i,s)}function ma(t,e,n){return a1(t.writeTree,t.treePath,e,n)}function em(t,e){return tm(ie(t.treePath,e),t.writeTree)}function tm(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;S(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),S(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,hd(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,$0(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,H0(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,hd(r,e.snapshotNode,i.oldSnap));else throw ar("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const nm=new m1;class ga{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new pa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ma(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:wn(this.viewCache_),s=h1(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function g1(t,e){S(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),S(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function _1(t,e,n,r,i){const s=new p1;let o,l;if(n.type===ut.OVERWRITE){const a=n;a.source.fromUser?o=su(t,e,a.path,a.snap,r,i,s):(S(a.source.fromServer,"Unknown source."),l=a.source.tagged||e.serverCache.isFiltered()&&!M(a.path),o=zs(t,e,a.path,a.snap,r,i,l,s))}else if(n.type===ut.MERGE){const a=n;a.source.fromUser?o=v1(t,e,a.path,a.children,r,i,s):(S(a.source.fromServer,"Unknown source."),l=a.source.tagged||e.serverCache.isFiltered(),o=ou(t,e,a.path,a.children,r,i,l,s))}else if(n.type===ut.ACK_USER_WRITE){const a=n;a.revert?o=E1(t,e,a.path,r,i,s):o=w1(t,e,a.path,a.affectedTree,r,i,s)}else if(n.type===ut.LISTEN_COMPLETE)o=S1(t,e,n.path,r,s);else throw ar("Unknown operation type: "+n.type);const u=s.getChanges();return y1(e,o,u),{viewCache:o,changes:u}}function y1(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=tu(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(j0(tu(e)))}}function rm(t,e,n,r,i,s){const o=e.eventCache;if(Fs(r,n)!=null)return e;{let l,u;if(M(n))if(S(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const a=wn(e),d=a instanceof z?a:z.EMPTY_NODE,c=Zp(r,d);l=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const a=iu(r,wn(e));l=t.filter.updateFullNode(e.eventCache.getNode(),a,s)}else{const a=D(n);if(a===".priority"){S(Qt(n)===1,"Can't have a priority with additional path components");const d=o.getNode();u=e.serverCache.getNode();const c=wd(r,n,d,u);c!=null?l=t.filter.updatePriority(d,c):l=o.getNode()}else{const d=V(n);let c;if(o.isCompleteForChild(a)){u=e.serverCache.getNode();const f=wd(r,n,o.getNode(),u);f!=null?c=o.getNode().getImmediateChild(a).updateChild(d,f):c=o.getNode().getImmediateChild(a)}else c=ma(r,a,e.serverCache);c!=null?l=t.filter.updateChild(o.getNode(),a,c,d,i,s):l=o.getNode()}}return Hr(e,l,o.isFullyInitialized()||M(n),t.filter.filtersNodes())}}function zs(t,e,n,r,i,s,o,l){const u=e.serverCache;let a;const d=o?t.filter:t.filter.getIndexedFilter();if(M(n))a=d.updateFullNode(u.getNode(),r,null);else if(d.filtersNodes()&&!u.isFiltered()){const g=u.getNode().updateChild(n,r);a=d.updateFullNode(u.getNode(),g,null)}else{const g=D(n);if(!u.isCompleteForPath(n)&&Qt(n)>1)return e;const _=V(n),P=u.getNode().getImmediateChild(g).updateChild(_,r);g===".priority"?a=d.updatePriority(u.getNode(),P):a=d.updateChild(u.getNode(),g,P,_,nm,null)}const c=Kp(e,a,u.isFullyInitialized()||M(n),d.filtersNodes()),f=new ga(i,c,s);return rm(t,c,n,i,f,l)}function su(t,e,n,r,i,s,o){const l=e.eventCache;let u,a;const d=new ga(i,e,s);if(M(n))a=t.filter.updateFullNode(e.eventCache.getNode(),r,o),u=Hr(e,a,!0,t.filter.filtersNodes());else{const c=D(n);if(c===".priority")a=t.filter.updatePriority(e.eventCache.getNode(),r),u=Hr(e,a,l.isFullyInitialized(),l.isFiltered());else{const f=V(n),g=l.getNode().getImmediateChild(c);let _;if(M(f))_=r;else{const w=d.getCompleteChild(c);w!=null?Op(f)===".priority"&&w.getChild(Lp(f)).isEmpty()?_=w:_=w.updateChild(f,r):_=z.EMPTY_NODE}if(g.equals(_))u=e;else{const w=t.filter.updateChild(l.getNode(),c,_,f,d,o);u=Hr(e,w,l.isFullyInitialized(),t.filter.filtersNodes())}}}return u}function Sd(t,e){return t.eventCache.isCompleteForChild(e)}function v1(t,e,n,r,i,s,o){let l=e;return r.foreach((u,a)=>{const d=ie(n,u);Sd(e,D(d))&&(l=su(t,l,d,a,i,s,o))}),r.foreach((u,a)=>{const d=ie(n,u);Sd(e,D(d))||(l=su(t,l,d,a,i,s,o))}),l}function Ed(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function ou(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,a;M(n)?a=r:a=new $(null).setTree(n,r);const d=e.serverCache.getNode();return a.children.inorderTraversal((c,f)=>{if(d.hasChild(c)){const g=e.serverCache.getNode().getImmediateChild(c),_=Ed(t,g,f);u=zs(t,u,new G(c),_,i,s,o,l)}}),a.children.inorderTraversal((c,f)=>{const g=!e.serverCache.isCompleteForChild(c)&&f.value===null;if(!d.hasChild(c)&&!g){const _=e.serverCache.getNode().getImmediateChild(c),w=Ed(t,_,f);u=zs(t,u,new G(c),w,i,s,o,l)}}),u}function w1(t,e,n,r,i,s,o){if(Fs(i,n)!=null)return e;const l=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(M(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return zs(t,e,n,u.getNode().getChild(n),i,s,l,o);if(M(n)){let a=new $(null);return u.getNode().forEachChild(Yn,(d,c)=>{a=a.set(new G(d),c)}),ou(t,e,n,a,i,s,l,o)}else return e}else{let a=new $(null);return r.foreach((d,c)=>{const f=ie(n,d);u.isCompleteForPath(f)&&(a=a.set(d,u.getNode().getChild(f)))}),ou(t,e,n,a,i,s,l,o)}}function S1(t,e,n,r,i){const s=e.serverCache,o=Kp(e,s.getNode(),s.isFullyInitialized()||M(n),s.isFiltered());return rm(t,o,n,r,nm,i)}function E1(t,e,n,r,i,s){let o;if(Fs(r,n)!=null)return e;{const l=new ga(r,e,i),u=e.eventCache.getNode();let a;if(M(n)||D(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=iu(r,wn(e));else{const c=e.serverCache.getNode();S(c instanceof z,"serverChildren would be complete if leaf node"),d=Zp(r,c)}d=d,a=t.filter.updateFullNode(u,d,s)}else{const d=D(n);let c=ma(r,d,e.serverCache);c==null&&e.serverCache.isCompleteForChild(d)&&(c=u.getImmediateChild(d)),c!=null?a=t.filter.updateChild(u,d,c,V(n),l,s):e.eventCache.getNode().hasChild(d)?a=t.filter.updateChild(u,d,z.EMPTY_NODE,V(n),l,s):a=u,a.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=iu(r,wn(e)),o.isLeafNode()&&(a=t.filter.updateFullNode(a,o,s)))}return o=e.serverCache.isFullyInitialized()||Fs(r,B())!=null,Hr(e,a,o,t.filter.filtersNodes())}}function C1(t,e){const n=wn(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!M(e)&&!n.getImmediateChild(D(e)).isEmpty())?n.getChild(e):null}function Cd(t,e,n,r){e.type===ut.MERGE&&e.source.queryId!==null&&(S(wn(t.viewCache_),"We should always have a full cache before handling merges"),S(tu(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=_1(t.processor_,i,e,n,r);return g1(t.processor_,s.viewCache),S(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,k1(t,s.changes,s.viewCache.eventCache.getNode(),null)}function k1(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return X0(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kd;function T1(t){S(!kd,"__referenceConstructor has already been defined"),kd=t}function _a(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return S(s!=null,"SyncTree gave us an op for an invalid query."),Cd(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(Cd(o,e,n,r));return s}}function ya(t,e){let n=null;for(const r of t.views.values())n=n||C1(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Td;function I1(t){S(!Td,"__referenceConstructor has already been defined"),Td=t}class Id{constructor(e){this.listenProvider_=e,this.syncPointTree_=new $(null),this.pendingWriteTree_=f1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function im(t,e,n,r,i){return t1(t.pendingWriteTree_,e,n,r,i),i?io(t,new vn(Vp(),e,n)):[]}function un(t,e,n=!1){const r=n1(t.pendingWriteTree_,e);if(r1(t.pendingWriteTree_,e)){let s=new $(null);return r.snap!=null?s=s.set(B(),!0):Qe(r.children,o=>{s=s.set(new G(o),!0)}),io(t,new Ls(r.path,s,n))}else return[]}function ro(t,e,n){return io(t,new vn(bp(),e,n))}function N1(t,e,n){const r=$.fromObject(n);return io(t,new di(bp(),e,r))}function R1(t,e,n,r){const i=lm(t,r);if(i!=null){const s=um(i),o=s.path,l=s.queryId,u=$e(o,e),a=new vn(Gp(l),u,n);return am(t,o,a)}else return[]}function x1(t,e,n,r){const i=lm(t,r);if(i){const s=um(i),o=s.path,l=s.queryId,u=$e(o,e),a=$.fromObject(n),d=new di(Gp(l),u,a);return am(t,o,d)}else return[]}function va(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const u=$e(o,e),a=ya(l,u);if(a)return a});return Jp(i,e,s,n,!0)}function io(t,e){return sm(e,t.syncPointTree_,null,qp(t.pendingWriteTree_,B()))}function sm(t,e,n,r){if(M(t.path))return om(t,e,n,r);{const i=e.get(B());n==null&&i!=null&&(n=ya(i,B()));let s=[];const o=D(t.path),l=t.operationForChild(o),u=e.children.get(o);if(u&&l){const a=n?n.getImmediateChild(o):null,d=em(r,o);s=s.concat(sm(l,u,a,d))}return i&&(s=s.concat(_a(i,t,r,n))),s}}function om(t,e,n,r){const i=e.get(B());n==null&&i!=null&&(n=ya(i,B()));let s=[];return e.children.inorderTraversal((o,l)=>{const u=n?n.getImmediateChild(o):null,a=em(r,o),d=t.operationForChild(o);d&&(s=s.concat(om(d,l,u,a)))}),i&&(s=s.concat(_a(i,t,r,n))),s}function lm(t,e){return t.tagToQueryMap.get(e)}function um(t){const e=t.indexOf("$");return S(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new G(t.substr(0,e))}}function am(t,e,n){const r=t.syncPointTree_.get(e);S(r,"Missing sync point for query tag that we're tracking");const i=qp(t.pendingWriteTree_,e);return _a(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new wa(n)}node(){return this.node_}}class Sa{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ie(this.path_,e);return new Sa(this.syncTree_,n)}node(){return va(this.syncTree_,this.path_)}}const P1=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Nd=function(t,e,n){if(!t||typeof t!="object")return t;if(S(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return D1(t[".sv"],e,n);if(typeof t[".sv"]=="object")return A1(t[".sv"],e);S(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},D1=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:S(!1,"Unexpected server value: "+t)}},A1=function(t,e,n){t.hasOwnProperty("increment")||S(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&S(!1,"Unexpected increment value: "+r);const i=e.node();if(S(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},O1=function(t,e,n,r){return Ea(e,new Sa(n,t),r)},cm=function(t,e,n){return Ea(t,new wa(e),n)};function Ea(t,e,n){const r=t.getPriority().val(),i=Nd(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=Nd(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new le(l,he(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new le(i))),o.forEachChild(Se,(l,u)=>{const a=Ea(u,e.getImmediateChild(l),n);a!==u&&(s=s.updateImmediateChild(l,a))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function ka(t,e){let n=e instanceof G?e:new G(e),r=t,i=D(n);for(;i!==null;){const s=rr(r.node.children,i)||{children:{},childCount:0};r=new Ca(i,r,s),n=V(n),i=D(n)}return r}function hr(t){return t.node.value}function dm(t,e){t.node.value=e,lu(t)}function fm(t){return t.node.childCount>0}function M1(t){return hr(t)===void 0&&!fm(t)}function so(t,e){Qe(t.node.children,(n,r)=>{e(new Ca(n,t,r))})}function hm(t,e,n,r){n&&!r&&e(t),so(t,i=>{hm(i,e,!0,r)}),n&&r&&e(t)}function L1(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Si(t){return new G(t.parent===null?t.name:Si(t.parent)+"/"+t.name)}function lu(t){t.parent!==null&&F1(t.parent,t.name,t)}function F1(t,e,n){const r=M1(n),i=Tt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,lu(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,lu(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=/[\[\].#$\/\u0000-\u001F\u007F]/,U1=/[\[\].#$\u0000-\u001F\u007F]/,Qo=10*1024*1024,pm=function(t){return typeof t=="string"&&t.length!==0&&!z1.test(t)},mm=function(t){return typeof t=="string"&&t.length!==0&&!U1.test(t)},B1=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),mm(t)},gm=function(t,e,n,r){r&&e===void 0||Ta(sa(t,"value"),e,n)},Ta=function(t,e,n){const r=n instanceof G?new S0(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+nn(r));if(typeof e=="function")throw new Error(t+"contains a function "+nn(r)+" with contents = "+e.toString());if(fp(e))throw new Error(t+"contains "+e.toString()+" "+nn(r));if(typeof e=="string"&&e.length>Qo/3&&to(e)>Qo)throw new Error(t+"contains a string greater than "+Qo+" utf8 bytes "+nn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Qe(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!pm(o)))throw new Error(t+" contains an invalid key ("+o+") "+nn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);E0(r,o),Ta(t,l,r),C0(r)}),i&&s)throw new Error(t+' contains ".value" child '+nn(r)+" in addition to actual children.")}},_m=function(t,e,n,r){if(!(r&&n===void 0)&&!mm(n))throw new Error(sa(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},W1=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),_m(t,e,n,r)},ym=function(t,e){if(D(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},j1=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!pm(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!B1(n))throw new Error(sa(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function vm(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Fp(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Ct(t,e,n){vm(t,n),$1(t,r=>et(r,e)||et(e,r))}function $1(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(V1(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function V1(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();dn&&we("event: "+n.toString()),fr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="repo_interrupt",G1=25;class Q1{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new H1,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ms(),this.transactionQueueTree_=new Ca,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function K1(t,e,n){if(t.stats_=aa(t.repoInfo_),t.forceRestClient_||Gv())t.server_=new Os(t.repoInfo_,(r,i,s,o)=>{Rd(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>xd(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{pe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new _t(t.repoInfo_,e,(r,i,s,o)=>{Rd(t,r,i,s,o)},r=>{xd(t,r)},r=>{Y1(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Xv(t.repoInfo_,()=>new q0(t.stats_,t.server_)),t.infoData_=new b0,t.infoSyncTree_=new Id({startListening:(r,i,s,o)=>{let l=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(l=ro(t.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Na(t,"connected",!1),t.serverSyncTree_=new Id({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,u)=>{const a=o(l,u);Ct(t.eventQueue_,r._path,a)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function wm(t){const n=t.infoData_.getNode(new G(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ia(t){return P1({timestamp:wm(t)})}function Rd(t,e,n,r,i){t.dataUpdateCount++;const s=new G(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const u=Ns(n,a=>he(a));o=x1(t.serverSyncTree_,s,u,i)}else{const u=he(n);o=R1(t.serverSyncTree_,s,u,i)}else if(r){const u=Ns(n,a=>he(a));o=N1(t.serverSyncTree_,s,u)}else{const u=he(n);o=ro(t.serverSyncTree_,s,u)}let l=s;o.length>0&&(l=oo(t,s)),Ct(t.eventQueue_,l,o)}function xd(t,e){Na(t,"connected",e),e===!1&&X1(t)}function Y1(t,e){Qe(e,(n,r)=>{Na(t,n,r)})}function Na(t,e,n){const r=new G("/.info/"+e),i=he(n);t.infoData_.updateSnapshot(r,i);const s=ro(t.infoSyncTree_,r,i);Ct(t.eventQueue_,r,s)}function Sm(t){return t.nextWriteId_++}function q1(t,e,n,r,i){Ra(t,"set",{path:e.toString(),value:n,priority:r});const s=Ia(t),o=he(n,r),l=va(t.serverSyncTree_,e),u=cm(o,l,s),a=Sm(t),d=im(t.serverSyncTree_,e,u,a,!0);vm(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(f,g)=>{const _=f==="ok";_||Oe("set at "+e+" failed: "+f);const w=un(t.serverSyncTree_,a,!_);Ct(t.eventQueue_,e,w),Z1(t,i,f,g)});const c=Im(t,e);oo(t,c),Ct(t.eventQueue_,c,[])}function X1(t){Ra(t,"onDisconnectEvents");const e=Ia(t),n=Ms();eu(t.onDisconnect_,B(),(i,s)=>{const o=O1(i,s,t.serverSyncTree_,e);$p(n,i,o)});let r=[];eu(n,B(),(i,s)=>{r=r.concat(ro(t.serverSyncTree_,i,s));const o=Im(t,i);oo(t,o)}),t.onDisconnect_=Ms(),Ct(t.eventQueue_,B(),r)}function J1(t){t.persistentConnection_&&t.persistentConnection_.interrupt(b1)}function Ra(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),we(n,...e)}function Z1(t,e,n,r){e&&fr(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function Em(t,e,n){return va(t.serverSyncTree_,e,n)||z.EMPTY_NODE}function xa(t,e=t.transactionQueueTree_){if(e||lo(t,e),hr(e)){const n=km(t,e);S(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&ew(t,Si(e),n)}else fm(e)&&so(e,n=>{xa(t,n)})}function ew(t,e,n){const r=n.map(a=>a.currentWriteId),i=Em(t,e,r);let s=i;const o=i.hash();for(let a=0;a<n.length;a++){const d=n[a];S(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const c=$e(e,d.path);s=s.updateChild(c,d.currentOutputSnapshotRaw)}const l=s.val(!0),u=e;t.server_.put(u.toString(),l,a=>{Ra(t,"transaction put response",{path:u.toString(),status:a});let d=[];if(a==="ok"){const c=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(un(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&c.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();lo(t,ka(t.transactionQueueTree_,e)),xa(t,t.transactionQueueTree_),Ct(t.eventQueue_,e,d);for(let f=0;f<c.length;f++)fr(c[f])}else{if(a==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{Oe("transaction at "+u.toString()+" failed: "+a);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=a}oo(t,e)}},o)}function oo(t,e){const n=Cm(t,e),r=Si(n),i=km(t,n);return tw(t,i,r),r}function tw(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const u=e[l],a=$e(n,u.path);let d=!1,c;if(S(a!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)d=!0,c=u.abortReason,i=i.concat(un(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=G1)d=!0,c="maxretry",i=i.concat(un(t.serverSyncTree_,u.currentWriteId,!0));else{const f=Em(t,u.path,o);u.currentInputSnapshot=f;const g=e[l].update(f.val());if(g!==void 0){Ta("transaction failed: Data returned ",g,u.path);let _=he(g);typeof g=="object"&&g!=null&&Tt(g,".priority")||(_=_.updatePriority(f.getPriority()));const P=u.currentWriteId,p=Ia(t),h=cm(_,f,p);u.currentOutputSnapshotRaw=_,u.currentOutputSnapshotResolved=h,u.currentWriteId=Sm(t),o.splice(o.indexOf(P),1),i=i.concat(im(t.serverSyncTree_,u.path,h,u.currentWriteId,u.applyLocally)),i=i.concat(un(t.serverSyncTree_,P,!0))}else d=!0,c="nodata",i=i.concat(un(t.serverSyncTree_,u.currentWriteId,!0))}Ct(t.eventQueue_,n,i),i=[],d&&(e[l].status=2,function(f){setTimeout(f,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(c==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(c),!1,null))))}lo(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)fr(r[l]);xa(t,t.transactionQueueTree_)}function Cm(t,e){let n,r=t.transactionQueueTree_;for(n=D(e);n!==null&&hr(r)===void 0;)r=ka(r,n),e=V(e),n=D(e);return r}function km(t,e){const n=[];return Tm(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Tm(t,e,n){const r=hr(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);so(e,i=>{Tm(t,i,n)})}function lo(t,e){const n=hr(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,dm(e,n.length>0?n:void 0)}so(e,r=>{lo(t,r)})}function Im(t,e){const n=Si(Cm(t,e)),r=ka(t.transactionQueueTree_,e);return L1(r,i=>{Ko(t,i)}),Ko(t,r),hm(r,i=>{Ko(t,i)}),n}function Ko(t,e){const n=hr(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(S(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(S(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(un(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?dm(e,void 0):n.length=s+1,Ct(t.eventQueue_,Si(e),i);for(let o=0;o<r.length;o++)fr(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function rw(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Oe(`Invalid query segment '${n}' in query '${t}'`)}return e}const Pd=function(t,e){const n=iw(t),r=n.namespace;n.domain==="firebase.com"&&Et(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Et("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Uv();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new kp(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new G(n.pathString)}},iw=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",u=443;if(typeof t=="string"){let a=t.indexOf("//");a>=0&&(l=t.substring(0,a-1),t=t.substring(a+2));let d=t.indexOf("/");d===-1&&(d=t.length);let c=t.indexOf("?");c===-1&&(c=t.length),e=t.substring(0,Math.min(d,c)),d<c&&(i=nw(t.substring(d,c)));const f=rw(t.substring(Math.min(t.length,c)));a=e.indexOf(":"),a>=0?(o=l==="https"||l==="wss",u=parseInt(e.substring(a+1),10)):a=e.length;const g=e.slice(0,a);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",sw=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Dd.charAt(n%64),n=Math.floor(n/64);S(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Dd.charAt(e[i]);return S(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return M(this._path)?null:Op(this._path)}get ref(){return new kn(this._repo,this._path)}get _queryIdentifier(){const e=md(this._queryParams),n=la(e);return n==="{}"?"default":n}get _queryObject(){return md(this._queryParams)}isEqual(e){if(e=cr(e),!(e instanceof Pa))return!1;const n=this._repo===e._repo,r=Fp(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+w0(this._path)}}class kn extends Pa{constructor(e,n){super(e,n,new ha,!1)}get parent(){const e=Lp(this._path);return e===null?null:new kn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}function ow(t,e){return t=cr(t),t._checkNotDeleted("ref"),e!==void 0?uu(t._root,e):t._root}function uu(t,e){return t=cr(t),D(t._path)===null?W1("child","path",e,!1):_m("child","path",e,!1),new kn(t._repo,ie(t._path,e))}function lw(t,e){t=cr(t),ym("push",t._path),gm("push",e,t._path,!0);const n=wm(t._repo),r=sw(n),i=uu(t,r),s=uu(t,r);let o;return e!=null?o=uw(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function uw(t,e){t=cr(t),ym("set",t._path),gm("set",e,t._path,!1);const n=new eo;return q1(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}T1(kn);I1(kn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="FIREBASE_DATABASE_EMULATOR_HOST",au={};let cw=!1;function dw(t,e,n,r){t.repoInfo_=new kp(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function fw(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Et("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),we("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Pd(s,i),l=o.repoInfo,u,a;typeof process<"u"&&process.env&&(a=process.env[aw]),a?(u=!0,s=`http://${a}?ns=${l.namespace}`,o=Pd(s,i),l=o.repoInfo):u=!o.repoInfo.secure;const d=i&&u?new Kn(Kn.OWNER):new Kv(t.name,t.options,e);j1("Invalid Firebase Database URL",o),M(o.path)||Et("Database URL must point to the root of a Firebase Database (not including a child path).");const c=pw(l,t,d,new Qv(t.name,n));return new mw(c,t)}function hw(t,e){const n=au[e];(!n||n[t.key]!==t)&&Et(`Database ${e}(${t.repoInfo_}) has already been deleted.`),J1(t),delete n[t.key]}function pw(t,e,n,r){let i=au[e.name];i||(i={},au[e.name]=i);let s=i[t.toURLString()];return s&&Et("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Q1(t,cw,n,r),i[t.toURLString()]=s,s}class mw{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(K1(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new kn(this._repo,B())),this._rootInternal}_delete(){return this._rootInternal!==null&&(hw(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Et("Cannot call "+e+" on a deleted database.")}}function gw(t=Cv(),e){const n=vv(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=dy("database");r&&_w(n,...r)}return n}function _w(t,e,n,r={}){t=cr(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Et("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Et('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Kn(Kn.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:fy(r.mockUserToken,t.app.options.projectId);s=new Kn(o)}dw(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(t){Ov(Ev),xs(new ui("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return fw(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Gn(Xc,Jc,t),Gn(Xc,Jc,"esm2017")}_t.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};_t.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};yw();var vw="firebase",ww="10.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn(vw,ww,"app");let $i;const Sw=new Uint8Array(16);function Ew(){if(!$i&&($i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $i(Sw)}const de=[];for(let t=0;t<256;++t)de.push((t+256).toString(16).slice(1));function Cw(t,e=0){return de[t[e+0]]+de[t[e+1]]+de[t[e+2]]+de[t[e+3]]+"-"+de[t[e+4]]+de[t[e+5]]+"-"+de[t[e+6]]+de[t[e+7]]+"-"+de[t[e+8]]+de[t[e+9]]+"-"+de[t[e+10]]+de[t[e+11]]+de[t[e+12]]+de[t[e+13]]+de[t[e+14]]+de[t[e+15]]}const kw=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ad={randomUUID:kw};function Tw(t,e,n){if(Ad.randomUUID&&!e&&!t)return Ad.randomUUID();t=t||{};const r=t.random||(t.rng||Ew)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return Cw(r)}const Iw={apiKey:"AIzaSyD7lnyIvWJocylZcWLFrRbeWSN2WQr0V2E",authDomain:"reactnyt.firebaseapp.com",projectId:"reactnyt",storageBucket:"reactnyt.appspot.com",messagingSenderId:"1019309984051",appId:"1:1019309984051:web:0543a1ee528e05a8ec9646",measurementId:"G-7F1N89X5BL"},Nw=Tw(),Rw=op(Iw),xw=gw(Rw),Pw="try your sequence",Dw="first number in sequence",Aw="second number in sequence",Ow="third number in sequence",Mw="Try it!";function Nm(t){return!(t.length!==3||t[0].length<1||t[1].length<1||t[2].length<1||parseInt(t[0])>=parseInt(t[1])||parseInt(t[1])>=parseInt(t[2]))}function Yo({value:t,setValue:e,ariaLabel:n}){return Q.jsx("input",{value:t,onChange:r=>e(r.target.value),"aria-label":n})}function Lw({guess:t}){const e=Nm(t),n=e?"correct guess":"incorrect guess";return Q.jsxs("div",{className:"guess-round-"+e,"aria-label":n,children:[Q.jsx("input",{value:t[0],readOnly:!0}),Q.jsx("input",{value:t[1],readOnly:!0}),Q.jsx("input",{value:t[2],readOnly:!0})]})}function Fw({addGuess:t,setNotification:e}){const[n,r]=Ot.useState(""),[i,s]=Ot.useState(""),[o,l]=Ot.useState("");return Q.jsxs("div",{className:"new-round",children:[Q.jsx("div",{className:"guess-round-current",children:Q.jsxs("fieldset",{children:[Q.jsx("legend",{children:"Enter a 3-number sequence:"}),Q.jsx(Yo,{value:n,setValue:r,ariaLabel:Dw}),Q.jsx(Yo,{value:i,setValue:s,ariaLabel:Aw}),Q.jsx(Yo,{value:o,setValue:l,ariaLabel:Ow})]})}),Q.jsx("div",{children:Q.jsx("button",{onClick:()=>{!isNaN(parseInt(n))&&!isNaN(parseInt(i))&&!isNaN(parseInt(o))?(t([n,i,o]),r(""),s(""),l(""),e(""),zw([n,i,o])):e("Please provide a full 3-number sequence.")},"aria-label":Pw,children:Mw})})]})}function zw(t){const e=Nm(t),n={sequence:t,result:e,timestamp:new Date().toUTCString(),session:Nw},r=ow(xw,"sequences/");console.log(`Starting update to new child of ${r}`),lw(r,n).then(i=>console.log(`Database update ${i} completed`)).catch(i=>console.log(`Database update failed: ${i}`))}function Uw(){const[t,e]=Ot.useState([]),[n,r]=Ot.useState("");return Q.jsxs("div",{className:"App",children:[t.map((i,s)=>Q.jsx(Lw,{guess:i},s)),Q.jsx(Fw,{setNotification:r,addGuess:i=>{const s=t.slice();s.push(i),e(s)}}),n]})}function Bw(){return Q.jsxs("div",{className:"App",children:[Q.jsxs("p",{className:"App-header",children:["I'm thinking of a function that either accepts or rejects sequences of 3 numbers. For example, ",Q.jsx("b",{children:"my function returns true on the sequence: 2, 4, 8."}),"Can you figure out what it is? Try it out and see what it returns on your sequences..."]}),Q.jsx("p",{children:"This app logs all sequences entered, along with the result, a timestamp, and a unique session identifier created when the page is loaded. No other data is logged."}),Q.jsx(Uw,{})]})}const Ww=qo.createRoot(document.getElementById("root"));Ww.render(Q.jsx(bm.StrictMode,{children:Q.jsx(Bw,{})}));
